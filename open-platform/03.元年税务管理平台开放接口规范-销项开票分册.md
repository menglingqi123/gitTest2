# 03.元年税务管理平台开放接口规范 - 销项开票部分

## 修订记录
<table width="100%">
	<tr><th width="40px;">版本</th><th width="150px;">修订人</th><th width="150px;">修订日期</th><th>说明</th></tr>
	<tr><td>v1.0</td><td>崔贵明</td><td>2018.08.30</td><td>起草</td></tr>
</table>

## 一、接口列表
<table width="100%">
	<tr><th width="40px;">序号</th><th width="150px;">接口名称</th><th>接口描述</th></tr>
	<tr><td>1.</td><td><a href="#section21">发票开具</a></td><td>根据请求的发票信息，开具发票。本接口提供发票的税控开具功能，纸质发票的打印和电子票的版式生成不在此接口中提供，需要单独调用打印接口或版式生成接口</td></tr>
	<tr><td>2.</td><td><a href="#section22">发票查询</a></td><td>根据校验条件查询发票信息，返回发票列表，不分页。（注：为了效率起见，查询最多返回100条数据）、支持发票流水号查询、支持发票号码、代码查询、支持开票终端标识查询、支持开票日期查询、支持购方信息查询（名称、税号）。</td></tr>
	<tr><td>3.</td><td><a href="#section23">空白票查询</a></td><td>根据请求的发票代码、开票终端标识查询当前未开发票号</td></tr>
	<tr><td>4.</td><td><a href="#section24">版式文件生成及推送</a></td><td>用于版式文件的生成及推送，通过发票代码、发票号码、发票请求流水号生成版式文件并推送，可用于首次生成版式文件或再次推送已生成的版式文件。注：推送的发票只适用于在百望云存在的电子发票。</td></tr>
	<tr><td>5.</td><td><a href="#section25">版式文件查询</a></td><td>根据发票代码、发票号码，或者发票流水号，查询版式文件下载路径。</td></tr>
	<tr><td>6.</td><td><a href="#section26">发票作废</a></td><td>据请求的发票代码、发票号码，作废指定发票。</td></tr>
	<tr><td>7.</td><td><a href="#section27">发票打印</a></td><td>根据请求数据打印发票。</td></tr>
	<tr><td>8.</td><td><a href="#section28">领用库存查询</a></td><td>提供税控设备发票领购信息查询功能</td></tr>
	<tr><td>9.</td><td><a href="#section29">发票状态查询</a></td><td>根据流水单号查询流水单号所关联的所有发票信息，包括开具状态：待开中、开具中、已开具。</td></tr>
   	<tr><td>10.</td><td><a href="#section210">发票精确查询</a></td><td>精确查询开具的销项发票</td></tr>
	<tr><td>11.</td><td><a href="#section211">公司信息检索</a></td><td>公司信息检索</td></tr>
   	<tr><td>12.</td><td><a href="#section212">国税商品信息检索</a></td><td>国税商品信息检索</td></tr>
</table>

## 二、接口规范

### <span id="section21">2.1 发票开具</span>
根据请求的发票信息，开具发票。本接口提供发票的税控开具功能，纸质发票的打印和电子票的版式生成不在此接口中提供，需要单独调用打印接口或版式生成接口。

> 请求URL: https://host:port/openapi/invoice/output/issue  
> 请求类型: POST 

##### 2.1.1 公共参数：
<table width="100%">
	<tr><th width="150px;">名称</th><th width="60px;">类型</th><th width="60px;">是否必须</th><th>描述</th></tr>
	<tr><td>appId</td><td>String</td><td>是</td><td>给开发者颁发的appId</td></tr>
	<tr><td>token</td><td>String</td><td>是</td><td>token 用于调用接口前授权检查</td></tr>
	<tr><td>sign</td><td>String</td><td>是</td><td>请求签名，使用MD5，用于安全控制</td></tr>
	<tr><td>timestamp</td><td>String</td><td>是</td><td>调用时间戳，格式：yyyy-MM-ddTHH:mm:ss</td></tr>
	<tr><td>vendor</td><td>String</td><td>是</td><td>税总厂商，暂时固定为"BAIWANG"</td></tr>
	<tr><td>format</td><td>String</td><td>是</td><td>响应报文格式，目前仅支持"JSON"</td></tr>
	<tr><td>version</td><td>String</td><td>是</td><td>API协议版本，当前版本号"v1.0"</td></tr>
</table> 

##### 2.1.2 业务参数：  
<table width="100%">
	<tr><th width="150px;">名称</th><th width="60px;">类型</th><th width="60px;">是否必须</th><th>描述</th></tr>
	<tr><td>taxNo</td><td> String</td><td> 是</td><td> 销方单位税号</td></tr>
	<tr><td>deviceType</td><td> String</td><td> 是</td><td> 设备类型 0税控服务器，1税控盘</td></tr>
	<tr><td>organizationCode</td><td> String</td><td> 否</td><td> 组织机构代码，不为空表示所开票归属于当前机构</td></tr>
	<tr><td>serialNo</td><td> String</td><td> 是</td><td> 开票流水号，唯一标志开票请求。支持数字字母下划线组合。</td></tr>
	<tr><td>reqSerialNumber</td><td> String</td><td> 否</td><td> 业务请求流水号</td></tr>
	<tr><td>businessId</td><td> String</td><td> 否</td><td> 第三方业务系统ID</td></tr>
	<tr><td>taxationMode</td><td> String</td><td> 是</td><td> 征税方式 0：普通征税，2：差额征税</td></tr>
	<tr><td>invoiceType</td><td> String</td><td> 是</td><td> 开票类型0:正数发票（蓝票） 1：负数发票（红票）</td></tr>
	<tr><td>invoiceTypeCode</td><td> String</td><td> 是</td><td> 发票种类编码，004:增值税专用发票，007:增值税普通发票，026：增值税电子发票，025：增值税卷式发票</td></tr>
	<tr><td>invoiceSpecialMark</td><td> String</td><td> 是</td><td> 特殊票种标记，00：普通发票 02：农业发票 06：抵扣通行费 07：其他通行费 08：成品油 默认：00</td></tr>
	<tr><td>invoiceTerminalCode</td><td> String</td><td> 是</td><td> 开票点编码</td></tr>
	<tr><td>buyerTaxNo</td><td> String</td><td> 是</td><td> 购方单位税号</td></tr>
	<tr><td>buyerName</td><td> String</td><td> 是</td><td> 购方单位名称</td></tr>
	<tr><td>buyerAddressPhone</td><td> String</td><td> 否</td><td> 购方地址及电话，专票必填</td></tr>
	<tr><td>buyerBankAccount</td><td> String</td><td> 否</td><td> 购方开户行及账号，专票必填</td></tr>
	<tr><td>drawer</td><td> String</td><td> 是</td><td> 开票人,电子发票8个字符；专普票16个字符</td></tr>
	<tr><td>checker</td><td> String</td><td> 否</td><td> 复核人，电子发票8个字符；专普票16个字符</td></tr>
	<tr><td>payee</td><td> String</td><td> 否</td><td> 收款人，电子发票8个字符；专普票16个字符</td></tr>
	<tr><td>invoiceListMark</td><td> String</td><td> 是</td><td> “清单标志： 0：无清单 1：带清单 （发票明细大于等于8行必须带清单）”</td></tr>
	<tr><td>redInfoNo</td><td> String</td><td> 否</td><td> 红字信息表编号，开具红字信息表</td></tr>
	<tr><td>notificationNo</td><td> String</td><td> 否</td><td> 通知单编号</td></tr>
	<tr><td>originalInvoiceCode</td><td> String</td><td> 否</td><td> 原发票代码(开红票时传入)</td></tr>
	<tr><td>originalInvoiceNumber</td><td> String</td><td> 否</td><td> 原发票号码(开红票时传入)</td></tr>
	<tr><td>deductibleAmount</td><td> String</td><td> 否</td><td> 扣除额，当征税方式为差额征税时必填。数值必须小于价税合计。注：税控服务器差额征税开负票时，扣除额必须为空。</td></tr>
	<tr><td>invoiceTotalPrice</td><td> String</td><td> 是</td><td> 合计金额，保留两位小数</td></tr>
	<tr><td>invoiceTotalTax</td><td> String</td><td> 是</td><td> 合计税额，保留两位小数</td></tr>
	<tr><td>invoiceTotalPriceTax</td><td> String</td><td> 是</td><td> 价税合计，保留两位小数</td></tr>
	<tr><td>signatureParameter</td><td> String</td><td> 否</td><td> 签名值参数; 默认为：0000004282000000</td></tr>
	<tr><td>taxDiskNo</td><td> String</td><td> 否</td><td> 税控盘编号，设备类型为1时必填</td></tr>
	<tr><td>commodityCodeVersion</td><td> String</td><td> 否</td><td> 商品编码版本号</td></tr>
	<tr><td>consolidatedTaxRate</td><td> String</td><td> 否</td><td> 综合税率</td></tr>
	<tr><td>invoiceSample</td><td> String</td><td> 否</td><td> 发票票样，01：76mm*177mm 最多6行 02：76mm*152mm 最多3行 03：57mm*177mm 最多6行 04：57mm*152mm 最多3行 05：湖南票样 06：76mm*177.8mm(全国通用) 07：57mm*177.8mm(全国通用) 特殊说明： 票样06 每行最多打印14个字节 1） 备注为空 ：票面可以打印总行数为22行；2）备注不为空 ：票面可以打印总行数为20行；票样07 每行最多打印10个字节 1） 备注为空 ：票面可以打印总行数为19行；2）备注不为空 ：票面可以打印总行数为16行； 开具商品总条数由各条商品所占行数（通过项目名称长度、每行打印字节数、有无备注计算单挑商品所占行数）累加后不超过打印总行数来计算。</td></tr>
	<tr><td>autoSplit</td><td> String</td><td> 否</td><td> 开具超过限额自动拆分, 是：自动拆分，否：不拆分，默认不拆分。</td></tr>
	<tr><td>remarks</td><td> String</td><td> 否</td><td> 备注</td></tr>
	<tr><td>invoiceDetailsList</td><td>array[object]</td><td> 是</td><td>商品明细节点</td></tr>
	<tr><td>└ rowNo</td><td> String</td><td> 是</td><td> 明细行号</td></tr>
	<tr><td>└ rowNature</td><td> String</td><td> 是</td><td> 发票行性质，0：正常行 1：折扣行 2：被折扣行</td></tr>
	<tr><td>└ commodityCode</td><td> String</td><td> 是</td><td> 商品编码</td></tr>
	<tr><td>└ commodityExtendCode</td><td> String</td><td> 否</td><td> 自行编码</td></tr>
	<tr><td>└ commodityName</td><td> String</td><td> 是</td><td> 商品名称</td></tr>
	<tr><td>└ commodityTaxItem</td><td> String</td><td> 否</td><td> 商品税目</td></tr>
	<tr><td>└ commoditySpecification</td><td> String</td><td> 否</td><td> 规格型号</td></tr>
	<tr><td>└ unit</td><td> String</td><td> 否</td><td> 计量单位</td></tr>
	<tr><td>└ quantity</td><td> String</td><td> 否</td><td> 商品数量</td></tr>
	<tr><td>└ unitPrice</td><td> String</td><td> 否</td><td> 商品单价</td></tr>
	<tr><td>└ amount</td><td> String</td><td> 是</td><td> 金额</td></tr>
	<tr><td>└ tax</td><td> String</td><td> 是</td><td> 税额，如果为空，根据金额，税率自动计算出</td></tr>
	<tr><td>└ taxRate</td><td> String</td><td> 是</td><td> 税率</td></tr>
	<tr><td>└ discountRowNo</td><td> String</td><td> 否</td><td> 折行对应行号</td></tr>
	<tr><td>└ priceTaxMark</td><td> String</td><td> 是</td><td> 含税标志0：不含税 1：含税</td></tr>
	<tr><td>└ vatSpecialManagement</td><td> String</td><td> 否</td><td> 增优惠政策类型，如果使用优惠政策，此项必填，具体信息取《商品和服务税收分类与编码》.xls中的增值税特殊管理列。</td></tr>
	<tr><td>└ freeTaxMark</td><td> String</td><td> 是</td><td> 零税率标识：空代表无， 1 出口免税和其他免税优惠政策， 2 不征增值税， 3 普通零税率</td></tr>
	<tr><td>└ preferentialMark</td><td> String</td><td> 是</td><td> 是否使用优惠政策 0:未使用，1:使用</td></tr>
</table> 

##### 2.1.3 响应参数：  
<table width="100%">
	<tr><th width="150px;">名称</th><th width="60px;">类型</th><th>描述</th></tr>
	<tr><td>invoiceList</td><td> String</td><td>发票列表</td></tr>
	<tr><td>└ invoiceCode</td><td> String</td><td>发票代码</td></tr>
	<tr><td>└ invoiceNumber</td><td> String</td><td>发票号码</td></tr>
	<tr><td>└ invoiceDate</td><td> String </td><td>开票日期</td></tr>
	<tr><td>└ taxControlCode</td><td> String</td><td> 对应发票的密码区</td></tr>
	<tr><td>└ invoiceCheckCode</td><td> String</td><td>校验码</td></tr>
	<tr><td>└ invoiceQrCode</td><td> String </td><td>打印在发票页面上的二维码</td></tr>
</table>

##### 2.1.4 SDK示例:  
##### 2.1.5 报文示例：  
请求报文：

	{
		"header":{
			"appId":"10000000",
			"token":"c8fe1407a8bc4d8ba2f407084bf64009",
			"sign":"bd6b11e662b342ffa9a4dc08ce1919a3",
			"timestamp":"2018-08-30T09:00:00",
			"vendor":"BAIWANG",
			"format":"JSON",
			"version":"v1.0"
		},
		"body":{
			"taxNo":"91500000747150426A",
			"deviceType":"0",
			"organizationCode":"20171116142920",
			"serialNo":"yn20180823020",
			"reqSerialNumber":"",
			"businessId":"",
			"taxationMode":"0",
			"invoiceType":"0",
			"invoiceTypeCode":"026",
			"invoiceSpecialMark":"00",
			"invoiceTerminalCode":"kpyuan002",
			"buyerTaxNo":"91110108786187005Y",
			"buyerName":"中国移动",
			"buyerAddressPhone":"地址电话",
			"buyerBankAccount":"6222202022222",
			"drawer":"ceshi",
			"checker":"",
			"payee":"",
			"invoiceListMark":"0",
			"redInfoNo":"",
			"notificationNo":"",
			"originalInvoiceCode":"",
			"originalInvoiceNo":"",
			"deductibleAmount":"0.00",
			"invoiceTotalPrice":"10000.00",
			"invoiceTotalTax":"1700.00",
			"invoiceTotalPriceTax":"11700.00",
			"signatureParameter":"",
			"taxDiskNo":"",
			"commodityCodeVersion":"",
			"consolidatedTaxRate":"",
			"invoiceSample":"",
			"autoSplit":"false",
			"remarks":"",
			"invoiceDetailsList":[{
				"rowNo":"1",
				"rowNature":"0",
				"commodityCode":"1030303010000000000",
				"commodityExtendCode":"",
				"commodityName":"衡水老白干",
				"commodityTaxItem":"",
				"commoditySpecification":"",
				"unit":"桶",
				"quantity":"1.00",
				"unitPrice":"10000.00",
				"amount":"10000.00",
				"tax":"1700.00",
				"taxRate":"0.17",
				"discountRowNo":"",
				"priceTaxMark":"0",
				"vatSpecialManagement":"",
				"freeTaxMark":"0",
				"preferentialMark":"0"
			}]
		}
	}
	
响应报文：

	{
	    "code": 1000,
	    "message": "success",
	    "data": {
	        "invoiceList": [
	            {
	                "invoiceCode": "150003521055",
	                "invoiceNumber": "82593854",
	                "invoiceDate": "20180830170608",
	                "taxControlCode": "0395*>*6+4>41><070-4+06>2/+-700176<-709496*332>3*61446928>373>>-57<<7/6-/46974>3220353+3+>/329019+0-19436<8><31+",
	                "invoiceCheckCode": "10070723808841402195",
	                "invoiceQrCode": "iVBORw0KGgoAAAANSUhEUgAAAHQAAAB0CAIAAADb+IFwAAABpUlEQVR42u3dUXLCMAwEUN//0uEMibWKFZ4+O1OIXzpsvYZ2XSY2CwFcuAYuXLgG7nG4KzBVz3X3cV5bF1y4cOE+wN16US/CLQuZznXBhQsX7ibuXYhEsNx9/M51wYULF+4k3HiZAhcuXLh/jpu+Brhw4cKditsZIJ24n2rF4MKFOxo3cZB3wtc/e/oLFy7ccbgnFCjpUIqvES5cuHAbipt0mVJVuFRdP1y4cOFWBlpZedxYylTdsEhxAxcuXLhPvjmMXoWbvja4cOHCTeEmSpPOcr2zAIILFy7cykDrPFhM37zjNhFw4cKFWwh6wps5xuzQ4MKF+7e4O0H3VpnSeQAKFy5cuKv5AydVobSzEej8QYELFy7cjkBL/6I+ZXMBFy5cuFfhG/Eih3fhsrwq9CKBBhcuXLgPypF0OJwQjHDhwoXbjdsZXIkb81oAwoULF25DcZMuzk8OYbhw4cJdH/iD8J1wRx9QwoULF+4mbtUiE4X3+ECDCxfuaNzIRQSK6s4NC1y4cOFef/5/IhK4Y05/4cKFOw7X7A9cuHANXLhwDdzX5gftJbZzydpYAwAAAABJRU5ErkJggg=="
	            }
	        ]
	    }
	}
	
### <span id="section22">2.2 发票查询</span>
根据校验条件查询发票信息，返回发票列表，不分页。（注：为了效率起见，查询最多返回100条数据）、支持发票流水号查询、支持发票号码、代码查询、支持开票终端标识查询、支持开票日期查询、支持购方信息查询（名称、税号）。

> 请求URL: https://host:port/openapi/invoice/output/query  
> 请求类型: POST 

##### 2.2.1 公共参数：
<table width="100%">
	<tr><th width="150px;">名称</th><th width="60px;">类型</th><th width="60px;">是否必须</th><th>描述</th></tr>
	<tr><td>appId</td><td>String</td><td>是</td><td>给开发者颁发的appId</td></tr>
	<tr><td>token</td><td>String</td><td>是</td><td>token 用于调用接口前授权检查</td></tr>
	<tr><td>sign</td><td>String</td><td>是</td><td>请求签名，使用MD5，用于安全控制</td></tr>
	<tr><td>timestamp</td><td>String</td><td>是</td><td>调用时间戳，格式：yyyy-MM-ddTHH:mm:ss</td></tr>
	<tr><td>vendor</td><td>String</td><td>是</td><td>税总厂商，暂时固定为"BAIWANG"</td></tr>
	<tr><td>format</td><td>String</td><td>是</td><td>响应报文格式，目前仅支持"JSON"</td></tr>
	<tr><td>version</td><td>String</td><td>是</td><td>API协议版本，当前版本号"v1.0"</td></tr>
	<tr><td>page</td><td>String</td><td>是</td><td>当前页，第一页为“1”</td></tr>
	<tr><td>size</td><td>String</td><td>是</td><td>页尺寸，最大为100</td></tr>
</table> 

##### 2.2.2 业务参数：  
<table width="100%">
	<tr><th width="150px;">名称</th><th width="60px;">类型</th><th width="60px;">是否必须</th><th>描述</th></tr>
	<tr><td>taxNo</td><td>String</td><td>是</td><td>销方税号，查询条件</td></tr>
	<tr><td>returnType</td><td>String</td><td>是</td><td>返回数据标志：传0，代表只发票代码,发票号码,发票类型代码；传1，返回全票面信息包括明细（默认</td></tr>
	<tr><td>invoiceTerminalCode</td><td>String</td><td>否</td><td>开票终端代码</td></tr>
	<tr><td>sourceSign</td><td>String</td><td>否</td><td>来源标志01接口开具02已开上传03开票申请单04流水单05接口待开上传06销方待开导入07购方待开导入08非百望云开具</td></tr>
	<tr><td>deviceType</td><td>String</td><td>否</td><td>设备类型：0：服务器；1：税控盘；2：SIMKEY；3:其他</td></tr>
	<tr><td>invoiceType</td><td>String</td><td>否</td><td>发票状态：发票状态默认为空，00开具成功02空白发票作废03:已开发票作废05:正票已红冲</td></tr>
	<tr><td>invoiceStartDate</td><td>String</td><td>否</td><td>开票日期起，格式：yyyyMMddHHmmss</td></tr>
	<tr><td>invoiceEndDate</td><td>String</td><td>否</td><td>开票日期止，格式：yyyyMMddHHmmss</td></tr>
	<tr><td>reqSerialNumber</td><td>String</td><td>否</td><td> 业务请求流水号 </td></tr>
	<tr><td>trackNumber</td><td>String</td><td>否</td><td>快递单号</td></tr>
</table> 

##### 2.2.3 响应参数：  
<table width="100%">
	<tr><th width="150px;">名称</th><th width="60px;">类型</th><th>描述</th></tr>
	<tr><td>page</td><td>String</td><td>当前页</td></tr>
	<tr><td>size</td><td>String</td><td>页尺寸</td></tr>
	<tr><td>totalPage</td><td>String</td><td>总页数</td></tr>
	<tr><td>invoiceCount</td><td>String</td><td>发票数</td></tr>
	<tr><td>invoiceList</td><td>array[object]</td><td></td></tr>
	<tr><td>└ deviceType</td><td>String</td><td>0税控服务器，1税控盘</td></tr>
	<tr><td>└ serialNo</td><td>String</td><td>唯一标志开票请求</td></tr>
	<tr><td>└ invoiceTypeCode</td><td>String</td><td></td></tr>
	<tr><td>└ invoiceTerminalCode</td><td>String</td><td>004:增值税专用发票，007:增值税普通发票，026：增值税电子发票，025：增值税卷式发票</td></tr>
	<tr><td>└ invoiceSpecialMark</td><td>String</td><td>00：普通发票02：农业发票</td></tr>
	<tr><td>└ sellerTaxNo</td><td>String</td><td></td></tr>
	<tr><td>└ sellerName</td><td>String</td><td></td></tr>
	<tr><td>└ sellerAddressPhone</td><td>String</td><td></td></tr>
	<tr><td>└ sellerBankAccount</td><td>String</td><td></td></tr>
	<tr><td>└ buyerTaxNo</td><td>String</td><td></td></tr>
	<tr><td>└ buyerName</td><td>String</td><td></td></tr>
	<tr><td>└ buyerAddressPhone</td><td>String</td><td></td></tr>
	<tr><td>└ buyerBankAccount</td><td>String</td><td></td></tr>
	<tr><td>└ drawer</td><td>String</td><td></td></tr>
	<tr><td>└ checker</td><td>String</td><td></td></tr>
	<tr><td>└ payee</td><td>String</td><td></td></tr>
	<tr><td>└ invoiceType</td><td>String</td><td>0:正数发票（蓝票）1：负数发票（红票）</td></tr>
	<tr><td>└ invoiceCode</td><td>String</td><td></td></tr>
	<tr><td>└ invoiceNumber</td><td>String</td><td></td></tr>
	<tr><td>└ invoiceDate</td><td>String</td><td></td></tr>
	<tr><td>└ taxControlCode</td><td>String</td><td></td></tr>
	<tr><td>└ invoiceCheckCode</td><td>String</td><td></td></tr>
	<tr><td>└ invoiceQrCode</td><td>String</td><td></td></tr>
	<tr><td>└ buyerEmail</td><td>String</td><td></td></tr>
	<tr><td>└ buyerPhone</td><td>String</td><td></td></tr>
	<tr><td>└ formatFileUrl</td><td>String</td><td></td></tr>
	<tr><td>└ invoiceInvalidReason</td><td>String</td><td></td></tr>
	<tr><td>└ invoiceInvalidOperator</td><td>String</td><td></td></tr>
	<tr><td>└ invoiceInvalidDate</td><td>String</td><td></td></tr>
	<tr><td>└ invoiceStatus</td><td>String</td><td>00开具成功02空白发票作废03:已开发票作废</td></tr>
	<tr><td>└ invoiceUploadMark</td><td>String</td><td>Y：已上传；N：未上传</td></tr>
	<tr><td>└ invoiceSignMark</td><td>String</td><td>Y：已签名；N：未签名</td></tr>
	<tr><td>└ invoiceCheckMark</td><td>String</td><td>Y：已验签；N：未验签</td></tr>
	<tr><td>└ organizationId</td><td>String</td><td></td></tr>
	<tr><td>└ tenantId</td><td>String</td><td></td></tr>
	<tr><td>└ invoiceListMark</td><td>String</td><td>0：无清单1：带清单</td></tr>
	<tr><td>└ redInfoNo</td><td>String</td><td></td></tr>
	<tr><td>└ originalInvoiceCode</td><td>String</td><td></td></tr>
	<tr><td>└ originalInvoiceNumber</td><td>String</td><td></td></tr>
	<tr><td>└ taxationMode</td><td>String</td><td>0：普通征税，2：差额征税</td></tr>
	<tr><td>└ deductibleAmount</td><td>String</td><td></td></tr>
	<tr><td>└ invoiceTotalPrice</td><td>String</td><td></td></tr>
	<tr><td>└ invoiceTotalTax</td><td>String</td><td></td></tr>
	<tr><td>└ invoiceTotalPriceTax</td><td>String</td><td></td></tr>
	<tr><td>└ consolidatedTaxRate</td><td>String</td><td></td></tr>
	<tr><td>└ notificationNo</td><td>String</td><td></td></tr>
	<tr><td>└ signatureParameter</td><td>String</td><td></td></tr>
	<tr><td>└ commodityCodeVersion</td><td>String</td><td></td></tr>
	<tr><td>└ remarks</td><td>String</td><td></td></tr>
	<tr><td>└ invoiceDetailsList</td><td>array[object]</td><td>返回多条商品明细信息</td></tr>
	<tr><td>└ └ rowNo</td><td>String</td><td></td></tr>
	<tr><td>└ └ rowNature</td><td>String0：正常行</td><td>1：折扣行2：被折扣行</td></tr>
	<tr><td>└ └ commodityCode</td><td>String</td><td></td></tr>
	<tr><td>└ └ commodityExtendCode</td><td>String</td><td></td></tr>
	<tr><td>└ └ commodityName</td><td>String</td><td></td></tr>
	<tr><td>└ └ commodityTaxItem</td><td>String</td><td></td></tr>
	<tr><td>└ └ commoditySpecification</td><td>String</td><td></td></tr>
	<tr><td>└ └ unit</td><td>String</td><td></td></tr>
	<tr><td>└ └ quantity</td><td>String</td><td></td></tr>
	<tr><td>└ └ unitPrice</td><td>String</td><td></td></tr>
	<tr><td>└ └ amount</td><td>String</td><td></td></tr>
	<tr><td>└ └ tax</td><td>String</td><td></td></tr>
	<tr><td>└ └ taxRate</td><td>String</td><td></td></tr>
	<tr><td>└ └ discountRowNo</td><td>String</td><td></td></tr>
	<tr><td>└ └ priceTaxMark</td><td>String</td><td>0：不含税1：含税</td></tr>
	<tr><td>└ └ vatSpecialManagement</td><td>String</td><td></td></tr>
	<tr><td>└ └ freeTaxMark</td><td>String</td><td>1	空代表无1出口免税和其他免税优惠政策2不征增值税3普通零税率</td></tr>
	<tr><td>└ └ preferentialMark</td><td>String0</td><td>:未使用，1:使用</td></tr>
</table> 

##### 2.2.4 SDK示例:  
##### 2.2.5 报文示例：  
请求报文：

	{
		"header":{
			"appId":"10000000",
			"token":"c8fe1407a8bc4d8ba2f407084bf64009",
			"sign":"bd6b11e662b342ffa9a4dc08ce1919a3",
			"timestamp":"2018-08-30T09:00:00",
			"vendor":"BAIWANG",
			"format":"JSON",
			"version":"v1.0",
			"page":"1",
			"size":"100"
		},
		"body":{
			"taxNo":"91500000747150426A",
			"returnType":"1",
			"invoiceTerminalCode":"",
			"sourceSign":"",
			"deviceType":"",
			"invoiceType":"",
			"invoiceStartDate":"",
			"invoiceEndDate":"",
			"reqSerialNumber":"",
			"trackNumber":""
		}
	}
	
响应报文：

	{
	    "code": 1000,
	    "message": "success",
	    "data": {
	        "page": "1",
	        "size": "100",
	        "totalPage": "2587",
	        "invoiceCount": null,
	        "invoiceList": [
	            {
	                "deviceType": "0",
	                "serialNo": "FP201808300025",
	                "invoiceTypeCode": "007",
	                "invoiceTerminalCode": "kpyuan01",
	                "invoiceSpecialMark": "00",
	                "sellerTaxNo": "91500000747150426A",
	                "sellerName": "百望云平台6",
	                "sellerAddressPhone": "马连洼北路010-12345678",
	                "sellerBankAccount": "交通银行123456789",
	                "buyerTaxNo": "91500000747150199A",
	                "buyerName": "唯品会中国",
	                "buyerAddressPhone": "",
	                "buyerBankAccount": "",
	                "drawer": "吴莎平",
	                "checker": "",
	                "payee": "",
	                "invoiceType": "0",
	                "invoiceCode": "1110000478",
	                "invoiceNumber": "82553420",
	                "invoiceDate": "2018-08-30 18:11:37",
	                "taxControlCode": "038<7<8/*-10569+++3>-54>11/50-8-*0*27+/02+*<3+*6->+8>>*781096+*+*-+>012/8+*//59481780*+48</551019+0-06087>>8--80",
	                "invoiceCheckCode": "16437103158479903643",
	                "invoiceQrCode": "iVBORw0KGgoAAAANSUhEUgAAAHQAAAB0CAIAAADb+IFwAAABpUlEQVR42u3dUXLCMAwEUN//0uEMibWKFZ4+O1OIXzpsvYZ2XSY2CwFcuAYuXLgG7nG4KzBVz3X3cV5bF1y4cOE+wN16US/CLQuZznXBhQsX7ibuXYhEsNx9/M51wYULF+4k3HiZAhcuXLh/jpu+Brhw4cKditsZIJ24n2rF4MKFOxo3cZB3wtc/e/oLFy7ccbgnFCjpUIqvES5cuHAbipt0mVJVuFRdP1y4cOFWBlpZedxYylTdsEhxAxcuXLhPvjmMXoWbvja4cOHCTeEmSpPOcr2zAIILFy7cykDrPFhM37zjNhFw4cKFWwh6wps5xuzQ4MKF+7e4O0H3VpnSeQAKFy5cuKv5AydVobSzEej8QYELFy7cjkBL/6I+ZXMBFy5cuFfhG/Eih3fhsrwq9CKBBhcuXLgPypF0OJwQjHDhwoXbjdsZXIkb81oAwoULF25DcZMuzk8OYbhw4cJdH/iD8J1wRx9QwoULF+4mbtUiE4X3+ECDCxfuaNzIRQSK6s4NC1y4cOFef/5/IhK4Y05/4cKFOw7X7A9cuHANXLhwDdzX5gftJbZzydpYAwAAAABJRU5ErkJggg==",
	                "buyerEmail": "",
	                "buyerPhone": "",
	                "formatFileUrl": "",
	                "invoiceInvalidReason": "",
	                "invoiceInvalidOperator": "",
	                "invoiceInvalidDate": null,
	                "invoiceStatus": "00",
	                "invoiceUploadMark": "0",
	                "invoiceSignMark": "N",
	                "invoiceCheckMark": "0",
	                "organizationId": "1800000131859",
	                "tenantId": "1800000133953",
	                "invoiceListMark": "0",
	                "redInfoNo": "",
	                "originalInvoiceCode": "",
	                "originalInvoiceNumber": "",
	                "taxationMode": "0",
	                "deductibleAmount": "0.00",
	                "invoiceTotalPrice": "56.03",
	                "invoiceTotalTax": "8.97",
	                "invoiceTotalPriceTax": "65.00",
	                "consolidatedTaxRate": "0.16",
	                "notificationNo": "",
	                "signatureParameter": "",
	                "commodityCodeVersion": "",
	                "remarks": "",
	                "invoiceDetailsList": [
	                    {
	                        "rowNo": "1",
	                        "rowNature": "2",
	                        "commodityCode": "1020101000000000000",
	                        "commodityExtendCode": "",
	                        "commodityName": "*煤炭*面膜2",
	                        "commodityTaxItem": "1020101000000000000",
	                        "commoditySpecification": "321",
	                        "unit": "盒",
	                        "quantity": "2",
	                        "unitPrice": "25",
	                        "amount": "50.00",
	                        "tax": "6.90",
	                        "taxRate": "0.16",
	                        "discountRowNo": "",
	                        "priceTaxMark": "1",
	                        "vatSpecialManagement": "",
	                        "freeTaxMark": "",
	                        "preferentialMark": "0"
	                    }
	                ]
	            }
	            ... 此处省略99行 ...
	        ]
	    }
	}

### <span id="section23">2.3 空白票查询</span>
根据请求的发票代码、开票终端标识查询当前未开发票号。

> 请求URL: https://host:port/openapi/invoice/output/empty/query  
> 请求类型: POST 

##### 2.3.1 公共参数：
<table width="100%">
	<tr><th width="150px;">名称</th><th width="60px;">类型</th><th width="60px;">是否必须</th><th>描述</th></tr>
	<tr><td>appId</td><td>String</td><td>是</td><td>给开发者颁发的appId</td></tr>
	<tr><td>token</td><td>String</td><td>是</td><td>token 用于调用接口前授权检查</td></tr>
	<tr><td>sign</td><td>String</td><td>是</td><td>请求签名，使用MD5，用于安全控制</td></tr>
	<tr><td>timestamp</td><td>String</td><td>是</td><td>调用时间戳，格式：yyyy-MM-ddTHH:mm:ss</td></tr>
	<tr><td>vendor</td><td>String</td><td>是</td><td>税总厂商，暂时固定为"BAIWANG"</td></tr>
	<tr><td>format</td><td>String</td><td>是</td><td>响应报文格式，目前仅支持"JSON"</td></tr>
	<tr><td>version</td><td>String</td><td>是</td><td>API协议版本，当前版本号"v1.0"</td></tr>
</table> 

##### 2.3.2 业务参数：  
<table width="100%">
	<tr><th width="150px;">名称</th><th width="60px;">类型</th><th width="60px;">是否必须</th><th>描述</th></tr>
	<tr><td>taxNo</td><td>String</td><td>是</td><td>销方税号，查询条件</td></tr>
	<tr><td>deviceType</td><td>String</td><td>是</td><td>设备类型0税控服务器，1税控盘</td></tr>
	<tr><td>invoiceTypeCode</td><td>String</td><td>是</td><td>发票种类编码:004:增值税专用发票，007:增值税普通发票，026：增值税电子发票，025：增值税卷式发票</td></tr>
	<tr><td>invoiceTerminalCode</td><td>String</td><td>是</td><td>开票点编码</td></tr>
	<tr><td>taxDiskNo</td><td>String</td><td>否</td><td>税控盘编号，设备类型为1时必填</td></tr>
	<tr><td>taxDiskKey</td><td>String</td><td>否</td><td>税控盘口令，设备类型为1时必填</td></tr>
	<tr><td>taxDiskPassword</td><td>String</td><td>否</td><td>税务数字证书密码，设备类型为1时必填</td></tr>
</table> 

##### 2.3.3 响应参数：  
<table width="100%">
	<tr><th width="150px;">名称</th><th width="60px;">类型</th><th>描述</th></tr>
		<tr><td>currentInvoiceCode</td><td> String </td><td>当前未开发票代码</td></tr>
		<tr><td>currentInvoiceNumber</td><td> String </td><td>当前未开发票号码</td></tr>
</table> 

##### 2.3.4 SDK示例:  
##### 2.3.5 报文示例：  
请求报文：

	{
		"header":{
			"appId":"10000000",
			"token":"c8fe1407a8bc4d8ba2f407084bf64009",
			"sign":"bd6b11e662b342ffa9a4dc08ce1919a3",
			"timestamp":"2018-08-30T09:00:00",
			"vendor":"BAIWANG",
			"format":"JSON",
			"version":"v1.0"
		},
		"body":{
			"taxNo":"91500000747150426A",
			"deviceType":"0",
			"invoiceTypeCode":"004",
			"invoiceTerminalCode":"0000001",
			"taxDiskNo":"",
			"taxDiskKey":"",
			"taxDiskPassword":""
		}
	}
	
响应报文：

	{
	    "code": 1000,
	    "message": "success",
	    "data": {
	        "currentInvoiceCode": "1110000571",
	        "currentInvoiceNumber": "82528562"
	    }
	}

### <span id="section24">2.4 版式文件生成及推送</span>
用于版式文件的生成及推送，通过发票代码、发票号码、发票请求流水号生成版式文件并推送，可用于首次生成版式文件或再次推送已生成的版式文件。注：推送的发票只适用于在百望云存在的电子发票。

> 请求URL: https://host:port/openapi/invoice/output/formatfile/bulid  
> 请求类型: POST 

##### 2.4.1 公共参数：
<table width="100%">
	<tr><th width="150px;">名称</th><th width="60px;">类型</th><th width="60px;">是否必须</th><th>描述</th></tr>
	<tr><td>appId</td><td>String</td><td>是</td><td>给开发者颁发的appId</td></tr>
	<tr><td>token</td><td>String</td><td>是</td><td>token 用于调用接口前授权检查</td></tr>
	<tr><td>sign</td><td>String</td><td>是</td><td>请求签名，使用MD5，用于安全控制</td></tr>
	<tr><td>timestamp</td><td>String</td><td>是</td><td>调用时间戳，格式：yyyy-MM-ddTHH:mm:ss</td></tr>
	<tr><td>vendor</td><td>String</td><td>是</td><td>税总厂商，暂时固定为"BAIWANG"</td></tr>
	<tr><td>format</td><td>String</td><td>是</td><td>响应报文格式，目前仅支持"JSON"</td></tr>
	<tr><td>version</td><td>String</td><td>是</td><td>API协议版本，当前版本号"v1.0"</td></tr>
</table> 

##### 2.4.2 业务参数：  
<table width="100%">
	<tr><th width="150px;">名称</th><th width="60px;">类型</th><th width="60px;">是否必须</th><th>描述</th></tr>
	<tr><td>taxNo</td><td>是</td><td>String</td><td>税号</td></tr>
	<tr><td>serialNo</td><td>否</td><td>String</td><td>开票流水号；流水号和发票号码代码二选一必填</td></tr>
	<tr><td>invoiceCode</td><td>否</td><td>String</td><td>发票代码</td></tr>
	<tr><td>invoiceNumber</td><td>否</td><td>String</td><td>发票号码</td></tr>
	<tr><td>pushType</td><td>是</td><td>String</td><td>推送标志0：不推送1：推送（邮箱必填）</td></tr>
	<tr><td>buyerEmail</td><td>否</td><td>String</td><td>购方邮箱</td></tr>
</table> 

##### 2.4.3 响应参数：  
<table width="100%">
	<tr><th width="150px;">名称</th><th width="60px;">类型</th><th>描述</th></tr>
		<tr><td>url</td><td> String </td><td>版式文件下载路径</td></tr>
		<tr><td>message</td><td> String </td><td>操作信息</td></tr>
</table> 

##### 2.4.4 SDK示例:  
##### 2.4.5 报文示例：  
请求报文：

	{
		"header":{
			"appId":"10000000",
			"token":"c8fe1407a8bc4d8ba2f407084bf64009",
			"sign":"bd6b11e662b342ffa9a4dc08ce1919a3",
			"timestamp":"2018-08-30T09:00:00",
			"vendor":"BAIWANG",
			"format":"JSON",
			"version":"v1.0"
		},
		"body":{
			"taxNo":"91500000747150426A",
			"serialNo":"",
			"invoiceCode":"150003521055",
			"invoiceNumber":"82592400",
			"pushType":"1",
			"buyerEmail":"1669598023@qq.com"
		}
	}
	
响应报文：

	{
	    "code": 1000,
	    "message": "success",
	    "data": {
	        "url": "http://123.56.92.221/fp/d?d=99E6EE9B4ACF8A4C30D4BB9561B1D251DE7E162C66A1D6C80B2986FE5EC4A836",
	        "message": "当前发票已生成版式文件。 邮件稍后发送,请注意查收!"
	    }
	}

### <span id="section25">2.5 版式文件查询</span>
根据发票代码、发票号码，或者发票流水号，查询版式文件下载路径。

> 请求URL: https://host:port/openapi/invoice/output/formatfile/query  
> 请求类型: POST 

##### 2.5.1 公共参数：
<table width="100%">
	<tr><th width="150px;">名称</th><th width="60px;">类型</th><th width="60px;">是否必须</th><th>描述</th></tr>
	<tr><td>appId</td><td>String</td><td>是</td><td>给开发者颁发的appId</td></tr>
	<tr><td>token</td><td>String</td><td>是</td><td>token 用于调用接口前授权检查</td></tr>
	<tr><td>sign</td><td>String</td><td>是</td><td>请求签名，使用MD5，用于安全控制</td></tr>
	<tr><td>timestamp</td><td>String</td><td>是</td><td>调用时间戳，格式：yyyy-MM-ddTHH:mm:ss</td></tr>
	<tr><td>vendor</td><td>String</td><td>是</td><td>税总厂商，暂时固定为"BAIWANG"</td></tr>
	<tr><td>format</td><td>String</td><td>是</td><td>响应报文格式，目前仅支持"JSON"</td></tr>
	<tr><td>version</td><td>String</td><td>是</td><td>API协议版本，当前版本号"v1.0"</td></tr>
</table> 

##### 2.5.2 业务参数：  
<table width="100%">
	<tr><th width="150px;">名称</th><th width="60px;">类型</th><th width="60px;">是否必须</th><th>描述</th></tr>
	<tr><td>taxNo</td><td> 是</td><td> String</td><td></td></tr>
	<tr><td>invoiceQueryType</td><td> 是</td><td> String</td><td> 查询类型 0：发票代码号码 1：发票流水号 2：保单号</td></tr>
	<tr><td>serialNo</td><td> 否</td><td> String</td><td> 开票流水号</td></tr>
	<tr><td>invoiceCode</td><td> 否</td><td> String</td><td>发票代码</td></tr>
	<tr><td>invoiceNumber</td><td> 否</td><td> String</td><td>发票号码 </td></tr>
</table> 

##### 2.5.3 响应参数：  
<table width="100%">
	<tr><th width="150px;">名称</th><th width="60px;">类型</th><th>描述</th></tr>
	<tr><td>url</td><td>String</td><td>版式文件下载路径</td></tr>
</table> 

##### 2.5.4 SDK示例:  
##### 2.5.5 报文示例：  
请求报文：

	{
		"header":{
			"appId":"10000000",
			"token":"c8fe1407a8bc4d8ba2f407084bf64009",
			"sign":"bd6b11e662b342ffa9a4dc08ce1919a3",
			"timestamp":"2018-08-30T09:00:00",
			"vendor":"BAIWANG",
			"format":"JSON",
			"version":"v1.0"
		},
		"body":{
			"taxNo":"91500000747150426A",
			"invoiceQueryType":"0",
			"serialNo":"",
			"invoiceCode":"150003521055",
			"invoiceNumber":"82592374",
			"returnType":"1"
		}
	}
	
响应报文：

	{
	    "code": 1000,
	    "message": "success",
	    "data": {
	        "url": "http://123.56.92.221/fp/d?d=99E6EE9B4ACF8A4C30D4BB9561B1D2514E1A8FA04C0931EE207165A1DD122F58"
	    }
	}
### <span id="section26">2.6 发票作废</span>
据请求的发票代码、发票号码，作废指定发票。

> 请求URL: https://host:port/openapi/invoice/output/invalid  
> 请求类型: POST 

##### 2.6.1 公共参数：
<table width="100%">
	<tr><th width="150px;">名称</th><th width="60px;">类型</th><th width="60px;">是否必须</th><th>描述</th></tr>
	<tr><td>appId</td><td>String</td><td>是</td><td>给开发者颁发的appId</td></tr>
	<tr><td>token</td><td>String</td><td>是</td><td>token 用于调用接口前授权检查</td></tr>
	<tr><td>sign</td><td>String</td><td>是</td><td>请求签名，使用MD5，用于安全控制</td></tr>
	<tr><td>timestamp</td><td>String</td><td>是</td><td>调用时间戳，格式：yyyy-MM-ddTHH:mm:ss</td></tr>
	<tr><td>vendor</td><td>String</td><td>是</td><td>税总厂商，暂时固定为"BAIWANG"</td></tr>
	<tr><td>format</td><td>String</td><td>是</td><td>响应报文格式，目前仅支持"JSON"</td></tr>
	<tr><td>version</td><td>String</td><td>是</td><td>API协议版本，当前版本号"v1.0"</td></tr>
</table> 

##### 2.6.2 业务参数：  
<table width="100%">
	<tr><th width="150px;">名称</th><th width="60px;">类型</th><th width="60px;">是否必须</th><th>描述</th></tr>
	<tr><td>taxNo</td><td>是</td><td>String</td><td>销方税号</td></tr>
	<tr><td>deviceType</td><td>是</td><td>String</td><td>设备类型 0税控服务器，1税控盘</td></tr>
	<tr><td>invoiceInvalidType</td><td>是</td><td>String</td><td>作废类型0：空白票作废1：已开票作废</td></tr>
	<tr><td>invoiceTypeCode</td><td>是</td><td>String</td><td>发票种类编码:004:增值税专用发票，005:机动车销售统一发票，007:增值税普通发票，026：增值税电子发票，025：增值税卷式发票</td></tr>
	<tr><td>invoiceTerminalCode</td><td>是</td><td>String</td><td>开票点编码</td></tr>
	<tr><td>invoiceCode</td><td>是</td><td>String</td><td>发票代码</td></tr>
	<tr><td>invoiceNumber</td><td>是</td><td>String</td><td>发票号码</td></tr>
	<tr><td>taxDiskNo</td><td>否</td><td>String</td><td>税控盘编号，设备类型为1时必填</td></tr>
	<tr><td>taxDiskKey</td><td>否</td><td>String</td><td>税控盘口令，设备类型为1时必填</td></tr>
	<tr><td>taxDiskPassword</td><td>否</td><td>String</td><td>税务数字证书密码，设备类型为1时必填</td></tr>
	<tr><td>invoiceInvalidOperator</td><td>是</td><td>String</td><td>作废人</td></tr>
</table> 

##### 2.6.3 响应参数：  
<table width="100%">
	<tr><th width="150px;">名称</th><th width="60px;">类型</th><th>描述</th></tr>
	<tr><td>invoiceCode</td><td>String</td><td>发票代码</td></tr>
	<tr><td>invoiceNumber</td><td>String</td><td>发票号码</td></tr>
	<tr><td>invoiceInvalidDate</td><td>String</td><td>作废日期，格式：yyyyMMddHHmmss</td></tr>
</table> 

##### 2.6.4 SDK示例:  
##### 2.6.5 报文示例：  
请求报文：

	{
		"header":{
			"appId":"10000000",
			"token":"c8fe1407a8bc4d8ba2f407084bf64009",
			"sign":"bd6b11e662b342ffa9a4dc08ce1919a3",
			"timestamp":"2018-08-30T09:00:00",
			"vendor":"BAIWANG",
			"format":"JSON",
			"version":"v1.0"
		},
		"body":{
			"taxNo":"91500000747150426A",
			"deviceType":"0",
			"invoiceInvalidType":"1",
			"invoiceTypeCode":"026",
			"invoiceTerminalCode":"kpyuan002",
	        "invoiceCode": "150003521055",
	        "invoiceNumber": "82592400",
			"taxDiskNo":"",
			"taxDiskKey":"",
			"taxDiskPassword":"",
			"invoiceInvalidOperator":"ceshi"
		}
	}
	
响应报文：

	{
	    "code": 6400,
	    "message": "100006:远程服务错误:9999:调用[发票作废]接口失败，原因:电子发票不能作废！"
	}
	
### <span id="section27">2.7 发票打印</span>
根据请求数据打印发票。

> 请求URL: https://host:port/openapi/invoice/output/print  
> 请求类型: POST 

##### 2.7.1 公共参数：
<table width="100%">
	<tr><th width="150px;">名称</th><th width="60px;">类型</th><th width="60px;">是否必须</th><th>描述</th></tr>
	<tr><td>appId</td><td>String</td><td>是</td><td>给开发者颁发的appId</td></tr>
	<tr><td>token</td><td>String</td><td>是</td><td>token 用于调用接口前授权检查</td></tr>
	<tr><td>sign</td><td>String</td><td>是</td><td>请求签名，使用MD5，用于安全控制</td></tr>
	<tr><td>timestamp</td><td>String</td><td>是</td><td>调用时间戳，格式：yyyy-MM-ddTHH:mm:ss</td></tr>
	<tr><td>vendor</td><td>String</td><td>是</td><td>税总厂商，暂时固定为"BAIWANG"</td></tr>
	<tr><td>format</td><td>String</td><td>是</td><td>响应报文格式，目前仅支持"JSON"</td></tr>
	<tr><td>version</td><td>String</td><td>是</td><td>API协议版本，当前版本号"v1.0"</td></tr>
</table> 

##### 2.7.2 业务参数：  
<table width="100%">
	<tr><th width="150px;">名称</th><th width="60px;">类型</th><th width="60px;">是否必须</th><th>描述</th></tr>
	<tr><td>taxNo</td><td>String</td><td>是</td><td></td></tr>
	<tr><td>deviceType</td><td>String</td><td>是</td><td>设备类型0税控服务器，1税控盘</td></tr>
	<tr><td>serialNo</td><td>String</td><td>否</td><td>开票流水号</td></tr>
	<tr><td>invoiceTypeCode</td><td>String</td><td>是</td><td>发票种类编码004:增值税专用发票，007:增值税普通发票，025：增值税卷式发票（只支持税控服务器，不支持税控盘）</td></tr>
	<tr><td>invoiceTerminalCode</td><td>String</td><td>是</td><td>开票点编码</td></tr>
	<tr><td>taxDiskNo</td><td>String</td><td>否</td><td>税控盘编号，设备类型为1时必填</td></tr>
	<tr><td>invoiceCode</td><td>String</td><td>是</td><td></td></tr>
	<tr><td>invoiceNumber</td><td>String</td><td>是</td><td></td></tr>
	<tr><td>invoicePrintType</td><td>String</td><td>是</td><td>打印类型弹窗模式0：发票打印，1：清单打印不弹窗模式8：清单打印,9：发票打印（打印类型 8和9 只适用于盘用户，核心板用户不适用）</td></tr>
	<tr><td>invoicePrintMode</td><td>String</td><td>是</td><td>打印方式0：每次点击都弹出打印设置框（目前不支持）1：只在第一次点击时弹出打印设置框。默认为1</td></tr>
</table> 

##### 2.7.3 响应参数：  
<table width="100%">
	<tr><th width="150px;">名称</th><th width="60px;">类型</th><th>描述</th></tr>
	<tr><td>message</td><td>String</td><td>打印消息</td></tr>
</table> 

##### 2.7.4 SDK示例:  
##### 2.7.5 报文示例：  
请求报文：

	{
		"header":{
			"appId":"10000000",
			"token":"c8fe1407a8bc4d8ba2f407084bf64009",
			"sign":"bd6b11e662b342ffa9a4dc08ce1919a3",
			"timestamp":"2018-08-30T09:00:00",
			"vendor":"BAIWANG",
			"format":"JSON",
			"version":"v1.0"
		},
		"body":{
			"taxNo":"91500000747150426A",
			"deviceType":"0",
			"serialNo":"20180821001",
			"invoiceTypeCode":"004",
			"invoiceTerminalCode":"kpyuan002",
			"taxDiskNo":"",
	        "invoiceCode": "150003521055",
	        "invoiceNumber": "82592375",
			"invoicePrintType":"0",
			"invoicePrintMode":"1"
		}
	}
	
响应报文：

	{
	    "code": 6500,
	    "message": "100006:远程服务错误:9999:调用[发票打印接口]异常，调用接口超时获取税控返回值超时!"
	}
	
### <span id="section28">2.8 领用库存查询</span>
提供税控设备发票领购信息查询功能。

> 请求URL: https://host:port/openapi/output/purchase/query  
> 请求类型: POST 

##### 2.8.1 公共参数：
<table width="100%">
	<tr><th width="150px;">名称</th><th width="60px;">类型</th><th width="60px;">是否必须</th><th>描述</th></tr>
	<tr><td>appId</td><td>String</td><td>是</td><td>给开发者颁发的appId</td></tr>
	<tr><td>token</td><td>String</td><td>是</td><td>token 用于调用接口前授权检查</td></tr>
	<tr><td>sign</td><td>String</td><td>是</td><td>请求签名，使用MD5，用于安全控制</td></tr>
	<tr><td>timestamp</td><td>String</td><td>是</td><td>调用时间戳，格式：yyyy-MM-ddTHH:mm:ss</td></tr>
	<tr><td>vendor</td><td>String</td><td>是</td><td>税总厂商，暂时固定为"BAIWANG"</td></tr>
	<tr><td>format</td><td>String</td><td>是</td><td>响应报文格式，目前仅支持"JSON"</td></tr>
	<tr><td>version</td><td>String</td><td>是</td><td>API协议版本，当前版本号"v1.0"</td></tr>
</table> 

##### 2.8.2 业务参数：  
<table width="100%">
	<tr><th width="150px;">名称</th><th width="60px;">类型</th><th width="60px;">是否必须</th><th>描述</th></tr>
<tr><td>taxNo</td><td>String</td><td>是</td><td></td></tr>
<tr><td>deviceType</td><td>String</td><td>是</td><td></td></tr>
<tr><td>invoiceTypeCode</td><td>String</td><td>是</td><td>发票种类编码:004:增值税专用发票，007:增值税普通发票，026：增值税电子普通发票,025：增值税卷式发票</td></tr>
<tr><td>invoiceTerminalCode</td><td>String</td><td>是</td><td>开票点编码</td></tr>
<tr><td>machineNo</td><td>String</td><td>否</td><td>机器编号，当设备类型为0时，必填</td></tr>
<tr><td>taxDiskNo</td><td>String</td><td>否</td><td>税控盘编号，设备类型为1时必填</td></tr>
<tr><td>taxDiskKey</td><td>String</td><td>否</td><td>税控盘口令，设备类型为1时必填</td></tr>
<tr><td>taxDiskPassword</td><td>String</td><td>否</td><td>税务数字证书密码，设备类型为1时必填</td></tr>
</table> 

##### 2.8.3 响应参数：  
<table width="100%">
	<tr><th width="150px;">名称</th><th width="60px;">类型</th><th>描述</th></tr>
	<tr><td>invoiceSurplusTotalQuantity</td><td>String</td><td>总剩余份数</td></tr>
	<tr><td>currentInvoiceCode</td><td>String</td><td>当前未开发票代码</td></tr>
	<tr><td>currentinvoiceNumber</td><td>String</td><td>当前未开发票号码</td></tr>
	<tr><td>invoicePurchaseList</td><td>array[object]</td><td></td></tr>
	<tr><td>└ invoiceCode</td><td>String</td><td>发票代码</td></tr>
	<tr><td>└ invoiceStartNo</td><td>String</td><td>发票起始号码</td></tr>
	<tr><td>└ invoiceEndNo</td><td>String</td><td>发票终止号码</td></tr>
	<tr><td>└ invoicePurchaseQuantity</td><td>String</td><td>领购份数</td></tr>
	<tr><td>└ invoiceSurplusQuantity</td><td>String</td><td>剩余份数</td></tr>
	<tr><td>└ invoicePurchaseDate</td><td>String</td><td>领购日期</td></tr>
	<tr><td>└ invoicePurchaseOperator</td><td>String</td><td>领购人员</td></tr>
</table> 

##### 2.8.4 SDK示例:  
##### 2.8.5 报文示例：  
请求报文：

	{
		"header":{
			"appId":"10000000",
			"token":"c8fe1407a8bc4d8ba2f407084bf64009",
			"sign":"bd6b11e662b342ffa9a4dc08ce1919a3",
			"timestamp":"2018-08-30T09:00:00",
			"vendor":"BAIWANG",
			"format":"JSON",
			"version":"v1.0"
		},
		"body":{
			"taxNo":"91500000747150426A",
			"deviceType":"0",
			"invoiceTypeCode":"004",
			"invoiceTerminalCode":"kpyuan001",
			"machineNo":"499111006380",
			"taxDiskNo":"",
			"taxDiskKey":"",
			"taxDiskPassword":""
		}
	}
	
响应报文：

	{
	    "code": 1000,
	    "message": "success",
	    "data": {
	        "invoiceSurplusTotalQuantity": "880",
	        "currentInvoiceCode": "1110000571",
	        "currentinvoiceNumber": "82525221",
	        "invoicePurchaseList": [
	            {
	                "invoiceCode": "1110000571",
	                "invoiceStartNo": "82460002",
	                "invoiceEndNo": "82460005",
	                "invoicePurchaseQuantity": "4",
	                "invoiceSurplusQuantity": "0",
	                "invoicePurchaseDate": "20161205",
	                "invoicePurchaseOperator": "1"
	            }
	        ]
	    }
	}

### <span id="section29">2.9 发票状态查询</span>
根据流水单号查询流水单号所关联的所有发票信息，包括开具状态：待开中、开具中、已开具。

> 请求URL: https://host:port/openapi/invoice/output/status  
> 请求类型: POST 

##### 2.9.1 公共参数：
<table width="100%">
	<tr><th width="150px;">名称</th><th width="60px;">类型</th><th width="60px;">是否必须</th><th>描述</th></tr>
	<tr><td>appId</td><td>String</td><td>是</td><td>给开发者颁发的appId</td></tr>
	<tr><td>token</td><td>String</td><td>是</td><td>token 用于调用接口前授权检查</td></tr>
	<tr><td>sign</td><td>String</td><td>是</td><td>请求签名，使用MD5，用于安全控制</td></tr>
	<tr><td>timestamp</td><td>String</td><td>是</td><td>调用时间戳，格式：yyyy-MM-ddTHH:mm:ss</td></tr>
	<tr><td>vendor</td><td>String</td><td>是</td><td>税总厂商，暂时固定为"BAIWANG"</td></tr>
	<tr><td>format</td><td>String</td><td>是</td><td>响应报文格式，目前仅支持"JSON"</td></tr>
	<tr><td>version</td><td>String</td><td>是</td><td>API协议版本，当前版本号"v1.0"</td></tr>
</table> 

##### 2.9.2 业务参数：  
<table width="100%">
	<tr><th width="150px;">名称</th><th width="60px;">类型</th><th width="60px;">是否必须</th><th>描述</th></tr>
	<tr><td>taxNo</td><td>String</td><td>是</td><td>税号</td></tr>
	<tr><td>serialNo</td><td>String</td><td>是</td><td>发票请求流水号</td></tr>
</table> 

##### 2.9.3 响应参数：  
<table width="100%">
	<tr><th width="150px;">名称</th><th width="60px;">类型</th><th>描述</th></tr>
	<tr><td>invoiceStatus</td><td> String </td><td>11:待开,12:开具中,04:待开作废,02是空白发票作废，00开具成功,03已开作废</td></tr>
	<tr><td>invoiceOpenType</td><td> String </td><td>0:正数,1:负数</td></tr>
</table> 

##### 2.9.4 SDK示例:  
##### 2.9.5 报文示例：  
请求报文：

	{
		"header":{
			"appId":"10000000",
			"token":"c8fe1407a8bc4d8ba2f407084bf64009",
			"sign":"bd6b11e662b342ffa9a4dc08ce1919a3",
			"timestamp":"2018-08-30T09:00:00",
			"vendor":"BAIWANG",
			"format":"JSON",
			"version":"v1.0"
		},
		"body":{
			"taxNo":"91500000747150426A",
			"serialNo":"20180821001"
		}
	}
	
响应报文：

	{
	    "code": 1000,
	    "message": "success",
	    "data": {
	        "invoiceStatus": "02",
	        "invoiceOpenType": "0"
	    }
	}

### <span id="section210">2.10 发票精确查询</span>
精确查询开具的销项发票。

> 请求URL: https://host:port/openapi/invoice/output/query/exact  
> 请求类型: POST 

##### 2.10.1 公共参数：
<table width="100%">
	<tr><th width="150px;">名称</th><th width="60px;">类型</th><th width="60px;">是否必须</th><th>描述</th></tr>
	<tr><td>appId</td><td>String</td><td>是</td><td>给开发者颁发的appId</td></tr>
	<tr><td>token</td><td>String</td><td>是</td><td>token 用于调用接口前授权检查</td></tr>
	<tr><td>sign</td><td>String</td><td>是</td><td>请求签名，使用MD5，用于安全控制</td></tr>
	<tr><td>timestamp</td><td>String</td><td>是</td><td>调用时间戳，格式：yyyy-MM-ddTHH:mm:ss</td></tr>
	<tr><td>vendor</td><td>String</td><td>是</td><td>税总厂商，暂时固定为"BAIWANG"</td></tr>
	<tr><td>format</td><td>String</td><td>是</td><td>响应报文格式，目前仅支持"JSON"</td></tr>
	<tr><td>version</td><td>String</td><td>是</td><td>API协议版本，当前版本号"v1.0"</td></tr>
</table> 

##### 2.10.2 业务参数：  
<table width="100%">
	<tr><th width="150px;">名称</th><th width="60px;">类型</th><th width="60px;">是否必须</th><th>描述</th></tr>
	<tr><td>taxNo</td><td>String</td><td>是</td><td>销方税号</td></tr>
	<tr><td>serialNo</td><td>String</td><td>否</td><td>开票序号/发票代码、号码二选一</td></tr>
	<tr><td>invoiceCode</td><td>String</td><td>否</td><td></td></tr>
	<tr><td>invoiceNumber</td><td>String</td><td>否</td><td></td></tr>

</table> 

##### 2.10.3 响应参数：  
<table width="100%">
	<tr><th width="150px;">名称</th><th width="60px;">类型</th><th>描述</th></tr>
	<tr><td>deviceType</td><td>String</td><td>0税控服务器，1税控盘</td></tr>
	<tr><td>serialNo</td><td>String</td><td>唯一标志开票请求</td></tr>
	<tr><td>invoiceTypeCode</td><td>String</td><td></td></tr>
	<tr><td>invoiceTerminalCode</td><td>String</td><td>004:增值税专用发票，007:增值税普通发票，026：增值税电子发票，025：增值税卷式发票</td></tr>
	<tr><td>invoiceSpecialMark</td><td>String</td><td>00：普通发票02：农业发票</td></tr>
	<tr><td>sellerTaxNo</td><td>String</td><td></td></tr>
	<tr><td>sellerName</td><td>String</td><td></td></tr>
	<tr><td>sellerAddressPhone</td><td>String</td><td></td></tr>
	<tr><td>sellerBankAccount</td><td>String</td><td></td></tr>
	<tr><td>buyerTaxNo</td><td>String</td><td></td></tr>
	<tr><td>buyerName</td><td>String</td><td></td></tr>
	<tr><td>buyerAddressPhone</td><td>String</td><td></td></tr>
	<tr><td>buyerBankAccount</td><td>String</td><td></td></tr>
	<tr><td>drawer</td><td>String</td><td></td></tr>
	<tr><td>checker</td><td>String</td><td></td></tr>
	<tr><td>payee</td><td>String</td><td></td></tr>
	<tr><td>invoiceType</td><td>String</td><td>0:正数发票（蓝票）1：负数发票（红票）</td></tr>
	<tr><td>invoiceCode</td><td>String</td><td></td></tr>
	<tr><td>invoiceNumber</td><td>String</td><td></td></tr>
	<tr><td>invoiceDate</td><td>String</td><td></td></tr>
	<tr><td>taxControlCode</td><td>String</td><td></td></tr>
	<tr><td>invoiceCheckCode</td><td>String</td><td></td></tr>
	<tr><td>invoiceQrCode</td><td>String</td><td></td></tr>
	<tr><td>buyerEmail</td><td>String</td><td></td></tr>
	<tr><td>buyerPhone</td><td>String</td><td></td></tr>
	<tr><td>formatFileUrl</td><td>String</td><td></td></tr>
	<tr><td>invoiceInvalidReason</td><td>String</td><td></td></tr>
	<tr><td>invoiceInvalidOperator</td><td>String</td><td></td></tr>
	<tr><td>invoiceInvalidDate</td><td>String</td><td></td></tr>
	<tr><td>invoiceStatus</td><td>String</td><td>00开具成功02空白发票作废03:已开发票作废</td></tr>
	<tr><td>invoiceUploadMark</td><td>String</td><td>Y：已上传；N：未上传</td></tr>
	<tr><td>invoiceSignMark</td><td>String</td><td>Y：已签名；N：未签名</td></tr>
	<tr><td>invoiceCheckMark</td><td>String</td><td>Y：已验签；N：未验签</td></tr>
	<tr><td>organizationId</td><td>String</td><td></td></tr>
	<tr><td>tenantId</td><td>String</td><td></td></tr>
	<tr><td>invoiceListMark</td><td>String</td><td>0：无清单1：带清单</td></tr>
	<tr><td>redInfoNo</td><td>String</td><td></td></tr>
	<tr><td>originalInvoiceCode</td><td>String</td><td></td></tr>
	<tr><td>originalInvoiceNumber</td><td>String</td><td></td></tr>
	<tr><td>taxationMode</td><td>String</td><td>0：普通征税，2：差额征税</td></tr>
	<tr><td>deductibleAmount</td><td>String</td><td></td></tr>
	<tr><td>invoiceTotalPrice</td><td>String</td><td></td></tr>
	<tr><td>invoiceTotalTax</td><td>String</td><td></td></tr>
	<tr><td>invoiceTotalPriceTax</td><td>String</td><td></td></tr>
	<tr><td>consolidatedTaxRate</td><td>String</td><td></td></tr>
	<tr><td>notificationNo</td><td>String</td><td></td></tr>
	<tr><td>signatureParameter</td><td>String</td><td></td></tr>
	<tr><td>commodityCodeVersion</td><td>String</td><td></td></tr>
	<tr><td>remarks</td><td>String</td><td></td></tr>
	<tr><td>invoiceDetailsList</td><td>array[object]</td><td>返回多条商品明细信息</td></tr>
	<tr><td>└ rowNo</td><td>String</td><td></td></tr>
	<tr><td>└ rowNature</td><td>String</td><td>0：正常行1：折扣行2：被折扣行</td></tr>
	<tr><td>└ commodityCode</td><td>String</td><td></td></tr>
	<tr><td>└ commodityExtendCode</td><td>String</td><td></td></tr>
	<tr><td>└ commodityName</td><td>String</td><td></td></tr>
	<tr><td>└ commodityTaxItem</td><td>String</td><td></td></tr>
	<tr><td>└ commoditySpecification</td><td>String</td><td></td></tr>
	<tr><td>└ unit</td><td>String</td><td></td></tr>
	<tr><td>└ quantity</td><td>String</td><td></td></tr>
	<tr><td>└ unitPrice</td><td>String</td><td></td></tr>
	<tr><td>└ amount</td><td>String</td><td></td></tr>
	<tr><td>└ tax</td><td>String</td><td></td></tr>
	<tr><td>└ taxRate</td><td>String</td><td></td></tr>
	<tr><td>└ discountRowNo</td><td>String</td><td></td></tr>
	<tr><td>└ priceTaxMark</td><td>String</td><td>0：不含税1：含税</td></tr>
	<tr><td>└ vatSpecialManagement</td><td>String</td><td></td></tr>
	<tr><td>└ freeTaxMark</td><td>String</td><td>1	空代表无1出口免税和其他免税优惠政策2不征增值税3普通零税率</td></tr>
	<tr><td>└ preferentialMark</td><td>String0</td><td>:未使用，1:使用</td></tr>
</table> 

##### 2.10.4 SDK示例:  
##### 2.10.5 报文示例：  
请求报文：

	{
		"header":{
			"appId":"10000000",
			"token":"c8fe1407a8bc4d8ba2f407084bf64009",
			"sign":"bd6b11e662b342ffa9a4dc08ce1919a3",
			"timestamp":"2018-08-30T09:00:00",
			"vendor":"BAIWANG",
			"format":"JSON",
			"version":"v1.0"
		},
		"body":{
			"taxNo":"91500000747150426A",
			"serialNo":"",
			"invoiceCode":"1110000478",
			"invoiceNumber":"82556049"
		}
	}
	
响应报文：

	{
	    "code": 1000,
	    "message": "success",
	    "data": {
	        "deviceType": "0",
	        "serialNo": "",
	        "invoiceTypeCode": "007",
	        "invoiceTerminalCode": "0000001",
	        "invoiceSpecialMark": "00",
	        "sellerTaxNo": "91500000747150426A",
	        "sellerName": "百望云平台6",
	        "sellerAddressPhone": "马连洼北路010-12345678",
	        "sellerBankAccount": "交通银行123456789",
	        "buyerTaxNo": "52420100441624011Q",
	        "buyerName": "武汉市工商专修学院",
	        "buyerAddressPhone": "武汉市江岸区黄孝河路109号，027-87101363",
	        "buyerBankAccount": "汉口银行武汉大学支行016011000118249",
	        "drawer": "测试",
	        "checker": "测试",
	        "payee": "测试",
	        "invoiceType": "0",
	        "invoiceCode": "1110000478",
	        "invoiceNumber": "82556049",
	        "invoiceDate": "2018-08-23 17:58:58",
	        "taxControlCode": "03504>*538/>8>75+38-7-<52/>0/309+-24938>>3<<+0-762+28867/2987709/+0+749105*3>1<+1/993324572+4>017+0-069>4476<906",
	        "invoiceCheckCode": "07513814743651604889",
	        "invoiceQrCode": "iVBORw0KGgoAAAANSUhEUgAAAJQAAACUCAIAAAD6XpeDAAADFUlEQVR42u3aUZLjIAxAwbn/pWePsGOjh3HS/nQ5iaGVQkj8/ATX7x+uq99z9fuLqx7vERc8ePDgfQne1MAKvKn3uRoof3mfqWeW5g0ePHjw4N3Gm0ooptbdImEpkq+pYLr8PDx48ODBewXeFPbUZn/nZ+HBgwcP3mfiFRM99Q51AQEePHjw4J2LV7xcXTjeubmuA/GIrgI8ePDgfTBecRbG/U2TDg8eJHjwxjebb2l4Fs8XB7GWfgsePHjw4N2e26kF9qmAKCa6aAJPzSc8ePDgwbuGVyzCOzewUwXiogheJGXw4MGDB2/k+Z+pxbyuu9ZJxFTTeCUIlg4gwYMHDx68S3NeF1uXFucgsOri+0qCk3TD4cGDB+8L8fIoCAJiZ0I0lbwkCQs8ePDgwUvXvwKmburWBYfiMNLlgIAHDx48eP+d550HdXZ+f91ALhq5l+cBHjx48ODdXpt3TlzRIK0ThxWY+rfgwYMHD979dW7n5rpOcKaSiNd0FeDBgwcP3u3k5bTG6QnZXR2USwEBDx48ePAu9fOKA0h1A3OqCFA3e8cK9PDgwYMH7zZecb8ArpuoNV7SSYcHDx48eJf2glMA9SCLgm+dBOWFaXjw4MGDd7sZe1oiULzzVODWTeakMA0PHjx48B6ZiCnIEw4y1cnUcVEMDx48eC/CKzbONWpxeGnnGJMGODx48ODBG1nnnrpfLPL1JroYFzx48ODBS/upWxuqT22cnwqa4g8DDx48ePDun2dJFtKhYvTKgr8zIHYW6OHBgwcP3gxesZgXC/hbDhEVRQN48ODBgzeDd0JCsfOwU9LpHvoDJBUEePDgwfsSvN/42lnYLYrpdbK2VECABw8ePHhPrLVjBdapz07dr4N1pWgADx48ePDu4+3cwBYDe+o6IRDhwYMHD959vKKQupJB7dzYrkz6Yxc8ePDgwXsFXlEg3pmAFAG6tEmHBw8ePHiP460MstjwFolP0Zg9ImGBBw8evA/GmypM70wE6vepm73HNWPhwYMH74PxdtZI64CYSiKmwIqEER48ePDgXfrsP65rNO9FTLuQAAAAAElFTkSuQmCC",
	        "buyerEmail": "",
	        "buyerPhone": "",
	        "formatFileUrl": "",
	        "invoiceInvalidReason": "",
	        "invoiceInvalidOperator": "",
	        "invoiceInvalidDate": null,
	        "invoiceStatus": "00",
	        "invoiceUploadMark": "0",
	        "invoiceSignMark": "N",
	        "invoiceCheckMark": "0",
	        "organizationId": "1800000131859",
	        "tenantId": "1800000133953",
	        "invoiceListMark": "0",
	        "redInfoNo": "",
	        "originalInvoiceCode": "",
	        "originalInvoiceNumber": "",
	        "taxationMode": "0",
	        "deductibleAmount": "",
	        "invoiceTotalPrice": "0.91",
	        "invoiceTotalTax": "0.09",
	        "invoiceTotalPriceTax": "1.00",
	        "consolidatedTaxRate": null,
	        "notificationNo": "",
	        "signatureParameter": "",
	        "commodityCodeVersion": "",
	        "remarks": "",
	        "invoiceDetailsList": [
	            {
	                "rowNo": "1",
	                "rowNature": "0",
	                "commodityCode": "1010101010000000000010101",
	                "commodityExtendCode": "",
	                "commodityName": "*谷物*8888",
	                "commodityTaxItem": "",
	                "commoditySpecification": "",
	                "unit": "",
	                "quantity": "1",
	                "unitPrice": "1",
	                "amount": "1.00",
	                "tax": "0.09",
	                "taxRate": "0.100",
	                "discountRowNo": "",
	                "priceTaxMark": "1",
	                "vatSpecialManagement": "",
	                "freeTaxMark": "",
	                "preferentialMark": "0"
	            }
	        ]
	    }
	}
	
### <span id="section211">2.11 公司信息检索</span>
公司信息检索。

> 请求URL: https://host:port/openapi/company/search  
> 请求类型: POST 

##### 2.11.1 公共参数：
<table width="100%">
	<tr><th width="150px;">名称</th><th width="60px;">类型</th><th width="60px;">是否必须</th><th>描述</th></tr>
	<tr><td>appId</td><td>String</td><td>是</td><td>给开发者颁发的appId</td></tr>
	<tr><td>token</td><td>String</td><td>是</td><td>token 用于调用接口前授权检查</td></tr>
	<tr><td>sign</td><td>String</td><td>是</td><td>请求签名，使用MD5，用于安全控制</td></tr>
	<tr><td>timestamp</td><td>String</td><td>是</td><td>调用时间戳，格式：yyyy-MM-ddTHH:mm:ss</td></tr>
	<tr><td>vendor</td><td>String</td><td>是</td><td>税总厂商，暂时固定为"BAIWANG"</td></tr>
	<tr><td>format</td><td>String</td><td>是</td><td>响应报文格式，目前仅支持"JSON"</td></tr>
	<tr><td>version</td><td>String</td><td>是</td><td>API协议版本，当前版本号"v1.0"</td></tr>
</table> 

##### 2.11.2 业务参数：  
<table width="100%">
	<tr><th width="150px;">名称</th><th width="60px;">类型</th><th width="60px;">是否必须</th><th>描述</th></tr>
	<tr><td>taxNo</td><td>String</td><td>是</td><td>销方税号</td></tr>
	<tr><td>companyName</td><td>String</td><td>否</td><td>公司名称</td></tr>
	<tr><td> companyTaxNo </td><td>String</td><td>否</td><td>待检索的公司税号</td></tr>
	<tr><td> exact </td><td>String</td><td>否</td><td>是否精确检索，true/false</td></tr>

</table> 

##### 2.11.3 响应参数：  
<table width="100%">	
	<tr><th width="150px;">名称</th><th width="60px;">类型</th><th>描述</th></tr>
	<tr><td> name </td><td>String</td><td>检索公司名称</td></tr>
	<tr><td> itemList </td><td>array[object]</td><td>返回多条商品明细信息</td></tr>
	<tr><td>└ name </td><td>String</td><td>企业名称</td></tr>
	<tr><td>└ taxNo </td><td>String</td><td>税号</td></tr>
	<tr><td>└ bank </td><td>String</td><td>开户银行</td></tr>
	<tr><td>└ bankAccount </td><td>String</td><td> 开户账号 </td></tr>
	<tr><td>└ address </td><td>String</td><td>企业地址</td></tr>
	<tr><td>└ phone </td><td>String</td><td>联系电话</td></tr>
	<tr><td>└ city </td><td>String</td><td>市</td></tr>
	<tr><td>└ county </td><td>String</td><td>区（县）</td></tr>
	<tr><td>└ province </td><td>String</td><td>省</td></tr>
	<tr><td>└ companyIndex </td><td>String</td><td>公司索引</td></tr>
	<tr><td>└ taxAuthorityCode </td><td>String</td><td>税务机关代码</td></tr>
	<tr><td>└ taxAuthorityName </td><td>String</td><td>税务机关名称</td></tr>
	<tr><td>└ frequency </td><td>String</td><td>使用频率</td></tr>
	<tr><td>└ score </td><td>String</td><td>相似度</td></tr>
</table> 

##### 2.11.4 SDK示例:  
##### 2.11.5 报文示例：  
请求报文：

	{
		"header":{
			"appId":"10000000",
			"token":"c8fe1407a8bc4d8ba2f407084bf64009",
			"sign":"bd6b11e662b342ffa9a4dc08ce1919a3",
			"timestamp":"2018-08-30T09:00:00",
			"vendor":"BAIWANG",
			"format":"JSON",
			"version":"v1.0"
		},
		"body":{
			"taxNo":"91500000747150426A",
			"companyName":"百望",
			"companyTaxNo":"",
			"exact":"false"
		}
	}
	
响应报文：

	{
	    "code": 1000,
	    "message": "success",
	    "data": {
	        "name": "百望",
	        "itemList": []
	    }
	}
	
### <span id="section212">2.12 国税商品信息检索</span>
国税商品信息检索。

> 请求URL: https://host:port/openapi/commodity/search  
> 请求类型: POST 

##### 2.12.1 公共参数：
<table width="100%">
	<tr><th width="150px;">名称</th><th width="60px;">类型</th><th width="60px;">是否必须</th><th>描述</th></tr>
	<tr><td>appId</td><td>String</td><td>是</td><td>给开发者颁发的appId</td></tr>
	<tr><td>token</td><td>String</td><td>是</td><td>token 用于调用接口前授权检查</td></tr>
	<tr><td>sign</td><td>String</td><td>是</td><td>请求签名，使用MD5，用于安全控制</td></tr>
	<tr><td>timestamp</td><td>String</td><td>是</td><td>调用时间戳，格式：yyyy-MM-ddTHH:mm:ss</td></tr>
	<tr><td>vendor</td><td>String</td><td>是</td><td>税总厂商，暂时固定为"BAIWANG"</td></tr>
	<tr><td>format</td><td>String</td><td>是</td><td>响应报文格式，目前仅支持"JSON"</td></tr>
	<tr><td>version</td><td>String</td><td>是</td><td>API协议版本，当前版本号"v1.0"</td></tr>
</table> 

##### 2.12.2 业务参数：  
<table width="100%">
	<tr><th width="150px;">名称</th><th width="60px;">类型</th><th width="60px;">是否必须</th><th>描述</th></tr>
	<tr><td>taxNo</td><td>String</td><td>是</td><td>销方税号</td></tr>
	<tr><td> commodityName </td><td>String</td><td>是</td><td>商品名称</td></tr>
</table> 

##### 2.12.3 响应参数：  
<table width="100%">
	<tr><th width="150px;">名称</th><th width="60px;">类型</th><th>描述</th></tr>
	<tr><td> name </td><td>String</td><td>检索公司名称</td></tr>
	<tr><td> itemList </td><td>array[object]</td><td>返回多条商品明细信息</td></tr>
	<tr><td>└ code </td><td>String</td><td>商品编码的税收编码</td></tr>
	<tr><td>└ parentName </td><td>String</td><td>商品名称</td></tr>
	<tr><td>└ description </td><td>String</td><td>返回的商品描述</td></tr>
	<tr><td>└ score </td><td>String</td><td>商品正确度</td></tr>
	<tr><td>└ shortName </td><td>String</td><td>商品简称</td></tr>
</table> 

##### 2.12.4 SDK示例:  
##### 2.12.5 报文示例：  
请求报文：

	{
		"header":{
			"appId":"100002",
			"token":"eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxMDAwMDMiLCJzYWx0IjoiZjA4MWYwYjRkMTRiMDg5MjNiZDU3MWFiZTk4Yzc2NDgzYTM2NmY1MTMwM2I2MjY4IiwiaWQiOiIzN2MwODJiZjc4MGVhN2RlIiwiZXhwIjoxNTM5MDcyMTMwLCJpYXQiOjE1MzkwNjQ5MzB9.u8YVy5cDn0mhfM98RlRVL3sSd2-nVC1SDPTcUHaJHCXQDZ5TckvZUP4Zz14BWDJGmwlVjG-WwJjx7xskHBlCAw",
			"sign":"C2806495EC6AA889DF0694A14A1DF32A",
			"timestamp":"2018-08-30T09:00:00",
			"vendor":"BAIWANG",
			"format":"JSON",
			"version":"v1.0"
		},
		"body":{
			"taxNo":"",
			"commodityName":"代订火车票服务费"
		}
	}
	
响应报文：

	{
	    "code": 1000,
	    "message": "success",
	    "data": {
	        "name": "代订火车票服务费",
	        "itemList": [
	            {
	                "code": "3070301000000000000",
	                "parentName": "旅游服务",
	                "description": "指根据旅游者的要求，组织安排交通、游览、住宿、餐饮、购物、文娱、商务等服务的业务活动。",
	                "score": "73.03%",
	                "shortName": "旅游服务"
	            },
	            {
	                "code": "3010102990100000000",
	                "parentName": "国内其他陆路货物运输服务",
	                "description": "指起运地、目的地都在境内的其他陆路货物运输业务。",
	                "score": "13.48%",
	                "shortName": "运输服务"
	            },
	            {
	                "code": "3040304020000000000",
	                "parentName": "展览服务",
	                "description": "包括为博览会、专业技术产品展览、生活消费品展览、文化产品展览、进出口交易展会、一般产品展会、产品订货展会等提供的展览服务。",
	                "score": "13.48%",
	                "shortName": "会展服务"
	            }
	        ]
	    }
	}

