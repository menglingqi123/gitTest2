
# 元年税务管理平台开放接口规范-进项分册

## 修订记录
<table width="100%">
	<tr><th width="40px;">版本</th><th width="150px;">修订人</th><th width="150px;">修订日期</th><th>说明</th></tr>
	<tr><td>v1.0</td><td>崔贵明</td><td>2018.08.29</td><td>起草</td></tr>
	<tr><td>v1.1</td><td>崔贵明</td><td>2018.09.05</td><td>1. 调整发票查验接口，调整价款、税款、价税合计金额为非必填项；<br/>2. OCR（自动查验）输入参数增加税号字段；</td></tr>
	<tr><td>v1.2</td><td>崔贵明</td><td>2018.09.07</td><td>1. 发票查验接口，调整税号为非必填项；<br/>2. OCR（自动查验）调整税号为非必填字段；</td></tr>
	<tr><td>v1.3</td><td>崔贵明</td><td>2018.09.20</td><td>1. 发票采集接口，调整发票状态字段为state；<br/>2. 发票查验接口，调整发票状态为（0-正常1-作废2-红冲3-失控4-异常）；</td></tr>
	<tr><td>v1.4</td><td>崔贵明</td><td>2018.11.28</td><td>1. 增加发票类型附录；</td></tr>
	<tr><td>v1.5</td><td>崔贵明</td><td>2019.11.13</td><td>1. 增加已认证专票查询服务；</td></tr>
	<tr><td>v1.6</td><td>崔贵明</td><td>2019.11.28</td><td>1. 采集通行费发票校验码；</td></tr>
	<tr><td>v1.7</td><td>崔贵明</td><td>2020.02.01</td><td>1. 增加查验税总厂商“AISINO”；2. 查验输入项增加“invoiceType”</td></tr>
	<tr><td>v1.8</td><td>崔贵明</td><td>2020.02.04</td><td>1. 增加认证税总厂商“AISINO”；2. 认证输入项增加“invoiceType”，“totalTax”</td></tr>
</table>

## 一、接口列表
<table width="100%">
	<tr><th width="40px;">序号</th><th width="150px;">接口名称</th><th>接口描述</th></tr>
	<tr><td>1.</td><td><a href="#section21">发票采集</a></td><td>获取当前税号下的可认证的（在认证期内360天）增值税专用发票和机动车销售统一发票，已取的发票国税状态发生变化可再次获取</td></tr>
	<tr><td>2.</td><td><a href="#section22">采集反馈</a></td><td>在请求取数接口后，会生成一个任务编号，一个任务编号标识一批发票，可以通过此接口将任务编号进行反馈，反馈后表明已收到此批发票，下次服务端将不再继续发送这批发票数据。</td></tr>
	<tr><td>3.</td><td><a href="#section23">初始化采集</a></td><td>把税号下通过取数接口同步过的发票设置成未同步，可再次通过取数接口获取所有发票</td></tr>
	<tr><td>4.</td><td><a href="#section24">发票查验</a></td><td>根据发票代码，号码，开票日期，校验码后六位，金额等信息获取发票的全票面信息。</td></tr>
	<tr><td>5.</td><td><a href="#section25">认证抵扣申请</a></td><td>批量将所属期的发票进行认证，返回发票的认证结果</td></tr>
	<tr><td>6.</td><td><a href="#section26">查询认证抵扣结果</a></td><td>对于认证过的发票会返回一个任务号，通过任务号和发票号码，代码将认证抵扣的结果进行同步。</td></tr>
	<tr><td>7.</td><td><a href="#section27">切换税款所属期</a></td><td>切换税款所属期</td></tr>
	<tr><td>8.</td><td><a href="#section28">OCR识别五要素</a></td><td>将增值税发票的 JPEG 图像二进制数据上传到服务器识别并返回发票五要素。</td></tr>
	<tr><td>9.</td><td><a href="#section29">OCR识别全票面信息</a></td><td>将增值税发票的 JPEG 图像二进制数据上传到服务器识别并进行发票查验，返回发票全票面信息。</td></tr>
	<tr><td>10.</td><td><a href="#section30">查询认证抵扣记录</a></td><td>分页增量查询已专票认证记录，增量时间差不超过60天。</td></tr>
</table>

## 二、接口规范

### <span id="section21">2.1 发票采集</span>
获取当前税号下的可认证的（在认证期内360天）增值税专用发票和机动车销售统一发票，已取的发票国税状态发生变化可再次获取。  

  
> 请求URL: https://host:port/openapi/invoice/input/collect  
> 请求类型: POST 

##### 2.1.1 公共参数：
<table width="100%">
	<tr><th width="150px;">名称</th><th width="60px;">类型</th><th width="60px;">是否必须</th><th>描述</th></tr>
	<tr><td>appId</td><td>String</td><td>是</td><td>给开发者颁发的appId</td></tr>
	<tr><td>token</td><td>String</td><td>是</td><td>token 用于调用接口前授权检查</td></tr>
	<tr><td>sign</td><td>String</td><td>是</td><td>请求签名，使用MD5，用于安全控制</td></tr>
	<tr><td>timestamp</td><td>String</td><td>是</td><td>调用时间戳，格式：yyyy-MM-ddTHH:mm:ss</td></tr>
	<tr><td>vendor</td><td>String</td><td>是</td><td>税总厂商，暂时固定为"BAIWANG"</td></tr>
	<tr><td>format</td><td>String</td><td>是</td><td>响应报文格式，目前仅支持"JSON"</td></tr>
	<tr><td>version</td><td>String</td><td>是</td><td>API协议版本，当前版本号"v1.0"</td></tr>
	<tr><td>page</td><td>String</td><td>是</td><td>当前页码</td></tr>
	<tr><td>size</td><td>String</td><td>是</td><td>每页数据量</td></tr>
</table> 

##### 2.1.2 业务参数：  
<table width="100%">
	<tr><th width="150px;">名称</th><th width="60px;">类型</th><th width="60px;">是否必须</th><th>描述</th></tr>
	<tr><td>taxNo</td><td>String</td><td>是</td><td>税号</td></tr>
</table> 

##### 2.1.3 响应参数：  
<table width="100%">
	<tr><th width="150px;">名称</th><th width="60px;">类型</th><th>描述</th></tr>
	<tr><td>page</td><td>String</td><td>当前页</td></tr>
	<tr><td>size</td><td>String</td><td>页尺寸</td></tr>
	<tr><td>totalPage</td><td>String</td><td>总页数</td></tr>
	<tr><td>invoiceCount</td><td>String</td><td>发票总数</td></tr>
	<tr><td>invoiceList</td><td>array[object]</td><td></td></tr>
	<tr><td>└ invoiceCode</td><td>String</td><td>发票代码</td></tr>
	<tr><td>└ invoiceNumber</td><td>String</td><td> 发票号码 </td></tr>
	<tr><td>└ invoiceType</td><td>String</td><td>发票种类01-增值税专用发票02-货运运输业增值税专用发票03-机动车销售统一发票 14-增值税电子普通发票（通行费）</td></tr>
	<tr><td>└ billingDate</td><td>String</td><td>开票日期，格式：yyyy-MM-dd</td></tr>
	<tr><td>└ state</td><td>String</td><td>发票状态（0-正常1-作废2-红冲3-失控4-异常）</td></tr>
	<tr><td>└ purchaserTaxNo</td><td>String</td><td>购方税号</td></tr>
	<tr><td>└ totalAmount</td><td>String</td><td>合计金额</td></tr>
	<tr><td>└ totalTax</td><td>String</td><td>合计税额</td></tr>
	<tr><td>└ salesTaxNo</td><td>String</td><td>销方税号</td></tr>
	<tr><td>└ salesTaxName</td><td>String</td><td>销方名称</td></tr>
	<tr><td>└ deductible</td><td>String</td><td>是否认证0-未认证1-已认证</td></tr>
	<tr><td>└ deductibleDate</td><td>String</td><td>认证日期如果已认证则为YYYY-MM-DD，未认证则为空</td></tr>
	<tr><td>└ deductiblePeriod</td><td>String</td><td>税款所属期如果已认证则为YYYYMM，未认证则为空</td></tr>
	<tr><td>└ isAgencyRebate </td><td>String</td><td>是否代办退税:0:是，1:否</td></tr>
	<tr><td>└ certificationType </td><td>String</td><td>认证类型:1为抵扣，2为出口退税，3为代理出口退税</td></tr>
	<tr><td>└ certificationWay </td><td>String</td><td>认证方式:1扫描认证,0勾选认证</td></tr>
	<tr><td>└ checkCode </td><td>String</td><td>校验码,验码后6位，仅通行费有此值</td></tr>

</table> 

##### 2.1.4 SDK示例:  
##### 2.1.5 报文示例：  
请求报文：

	{
		"header":{
			"appId":"10000000",
			"token":"c8fe1407a8bc4d8ba2f407084bf64009",
			"sign":"bd6b11e662b342ffa9a4dc08ce1919a3",
			"timestamp":"2018-08-30T09:00:00",
			"vendor":"BAIWANG",
			"format":"JSON",
			"version":"v1.0",
			"size":"5",
			"page":"1"
		},
		"body":{
			"taxNo":"91310110MA1G87YU8J"
		}
	}
	
响应报文：

	{
	    "code": 1000,
	    "message": "success",
	    "data": {
	        "page": "1",
	        "size": "5",
	        "totalPage": "3",
	        "invoiceCount": "11",
	        "invoiceList": [
	            {
	                "invoiceCode": "1100174320",
	                "invoiceNumber": "96570480",
	                "invoiceType": null,
	                "billingDate": "2018-06-09",
	                "state": null,
	                "purchaserTaxNo": "91310110MA1G87YU8J",
	                "totalAmount": "336.01",
	                "totalTax": "9.79",
	                "salesTaxNo": "91110113MA002DPF5G",
	                "salesTaxName": "北京南疆北疆餐饮有限公司",
	                "deductible": null,
	                "deductibleDate": null,
	                "deductiblePeriod": null
	            },
	            {
	                "invoiceCode": "1100174320",
	                "invoiceNumber": "96570481",
	                "invoiceType": null,
	                "billingDate": "2018-06-09",
	                "state": null,
	                "purchaserTaxNo": "91310110MA1G87YU8J",
	                "totalAmount": "336.02",
	                "totalTax": "9.79",
	                "salesTaxNo": "91110113MA002DPF5G",
	                "salesTaxName": "北京南疆北疆餐饮有限公司",
	                "deductible": null,
	                "deductibleDate": null,
	                "deductiblePeriod": null
	            },
	            {
	                "invoiceCode": "1100174320",
	                "invoiceNumber": "96570482",
	                "invoiceType": null,
	                "billingDate": "2018-06-09",
	                "state": null,
	                "purchaserTaxNo": "91310110MA1G87YU8J",
	                "totalAmount": "336.03",
	                "totalTax": "9.79",
	                "salesTaxNo": "91110113MA002DPF5G",
	                "salesTaxName": "北京南疆北疆餐饮有限公司",
	                "deductible": null,
	                "deductibleDate": null,
	                "deductiblePeriod": null
	            },
	            {
	                "invoiceCode": "1100174320",
	                "invoiceNumber": "96570483",
	                "invoiceType": null,
	                "billingDate": "2018-06-09",
	                "state": null,
	                "purchaserTaxNo": "91310110MA1G87YU8J",
	                "totalAmount": "336.04",
	                "totalTax": "9.79",
	                "salesTaxNo": "91110113MA002DPF5G",
	                "salesTaxName": "北京南疆北疆餐饮有限公司",
	                "deductible": null,
	                "deductibleDate": null,
	                "deductiblePeriod": null
	            },
	            {
	                "invoiceCode": "1100174320",
	                "invoiceNumber": "96570484",
	                "invoiceType": null,
	                "billingDate": "2018-06-09",
	                "state": null,
	                "purchaserTaxNo": "91310110MA1G87YU8J",
	                "totalAmount": "336.05",
	                "totalTax": "9.79",
	                "salesTaxNo": "91110113MA002DPF5G",
	                "salesTaxName": "北京南疆北疆餐饮有限公司",
	                "deductible": null,
	                "deductibleDate": null,
	                "deductiblePeriod": null
	            }
	        ]
	    }
	}

### <span id="section22">2.2 采集反馈</span>
在请求取数接口后，会生成一个任务编号，一个任务编号标识一批发票，可以通过此接口将任务编号进行反馈，反馈后表明已收到此批发票，下次服务端将不再继续发送这批发票数据。  
  
> 请求URL: https://host:port/openapi/invoice/input/collect/feedback  
> 请求类型: POST 

##### 2.2.1 公共参数：  
<table width="100%">
	<tr><th width="150px;">名称</th><th width="60px;">类型</th><th width="60px;">是否必须</th><th>描述</th></tr>
	<tr><td>appId</td><td>String</td><td>是</td><td>给开发者颁发的appId</td></tr>
	<tr><td>token</td><td>String</td><td>是</td><td>token 用于调用接口前授权检查</td></tr>
	<tr><td>sign</td><td>String</td><td>是</td><td>请求签名，使用MD5，用于安全控制</td></tr>
	<tr><td>timestamp</td><td>String</td><td>是</td><td>调用时间戳，格式：yyyy-MM-ddTHH:mm:ss</td></tr>
	<tr><td>vendor</td><td>String</td><td>是</td><td>税总厂商，暂时固定为"BAIWANG"</td></tr>
	<tr><td>format</td><td>String</td><td>是</td><td>响应报文格式，目前仅支持"JSON"</td></tr>
	<tr><td>version</td><td>String</td><td>是</td><td>API协议版本，当前版本号"v1.0"</td></tr>
</table> 

##### 2.2.2 业务参数：  
<table width="100%">
	<tr><th width="150px;">名称</th><th width="60px;">类型</th><th width="60px;">是否必须</th><th>描述</th></tr>
	<tr><td>taxNo</td><td>String</td><td>是</td><td>税号</td></tr>
	<tr><td>invoiceList</td><td>String</td><td>是</td><td>发票列表</td></tr>
	<tr><td>└ invoiceCode</td><td>String</td><td>是</td><td>发票代码</td></tr>
	<tr><td>└ invoiceNumber</td><td>String</td><td>是</td><td>发票号码</td></tr>
	<tr><td>└ result</td><td>String</td><td>是</td><td>采集状态，0：失败，1：成功</td></tr>
</table> 

##### 2.2.3 响应参数： 
<table width="100%">
	<tr><th width="150px;">名称</th><th width="60px;">类型</th><th>描述</th></tr>
	<tr><td>&nbsp;</td><td></td><td></td></tr>
</table>  

##### 2.2.4 SDK示例:  
##### 2.2.5 报文示例：
请求报文：

	{
		"header":{
			"appId":"10000000",
			"token":"c8fe1407a8bc4d8ba2f407084bf64009",
			"sign":"bd6b11e662b342ffa9a4dc08ce1919a3",
			"timestamp":"2018-08-30T09:00:00",
			"vendor":"BAIWANG",
			"format":"JSON",
			"version":"v1.0"
		},
		"body":{
			"taxNo":"91310110MA1G87YU8J",
			"invoiceList":[
				{
					"invoiceCode":"1100174320",
					"invoiceNumber":"96570482",
					"result":"0"
				},
				{
					"invoiceCode":"1100174320",
					"invoiceNumber":"96570483",
					"result":"1"
				}
			]
		}
	}
	
响应报文：

	{
	    "code": 1000,
	    "message": "success"
	}

### <span id="section23">2.3 初始化采集</span>
把税号下通过取数接口同步过的发票设置成未同步，可再次通过取数接口获取所有发票  
  
> 请求URL: https://host:port/openapi/invoice/input/collect/init  
> 请求类型: POST 

##### 2.3.1 公共参数：  
<table width="100%">
	<tr><th width="150px;">名称</th><th width="60px;">类型</th><th width="60px;">是否必须</th><th>描述</th></tr>
	<tr><td>appId</td><td>String</td><td>是</td><td>给开发者颁发的appId</td></tr>
	<tr><td>token</td><td>String</td><td>是</td><td>token 用于调用接口前授权检查</td></tr>
	<tr><td>sign</td><td>String</td><td>是</td><td>请求签名，使用MD5，用于安全控制</td></tr>
	<tr><td>timestamp</td><td>String</td><td>是</td><td>调用时间戳，格式：yyyy-MM-ddTHH:mm:ss</td></tr>
	<tr><td>vendor</td><td>String</td><td>是</td><td>税总厂商，暂时固定为"BAIWANG"</td></tr>
	<tr><td>format</td><td>String</td><td>是</td><td>响应报文格式，目前仅支持"JSON"</td></tr>
	<tr><td>version</td><td>String</td><td>是</td><td>API协议版本，当前版本号"v1.0"</td></tr>
</table> 

##### 2.3.2 业务参数：  
<table width="100%">
<tr><th width="150px;">名称</th><th width="60px;">类型</th><th width="60px;">是否必须</th><th>描述</th></tr>
	<tr><td>taxNo</td><td>String</td><td>是</td><td>税号</td></tr>
</table>  

##### 2.3.3 响应参数： 
<table width="100%">
	<tr><th width="150px;">名称</th><th width="60px;">类型</th><th>描述</th></tr>
	<tr><td>&nbsp;</td><td></td><td></td></tr>
</table>  

##### 2.3.4 SDK示例:  
##### 2.3.5 报文示例：
请求报文：

	{
		"header":{
			"appId":"10000000",
			"token":"c8fe1407a8bc4d8ba2f407084bf64009",
			"sign":"bd6b11e662b342ffa9a4dc08ce1919a3",
			"timestamp":"2018-08-30T09:00:00",
			"vendor":"BAIWANG",
			"format":"JSON",
			"version":"v1.0"
		},
		"body":{
			"taxNo":"91310110MA1G87YU8J"
		}
	}

响应报文：

	{
	    "code": 1000,
	    "message": "success"
	}

### <span id="section24">2.4 发票查验</span>
根据发票代码，号码，开票日期，校验码后六位，金额等信息获取发票的全票面信息。  
  
> 请求URL: https://host:port/openapi/invoice/input/inspect  
> 请求类型: POST 

##### 2.4.1 公共参数：  
<table width="100%">
	<tr><th width="150px;">名称</th><th width="60px;">类型</th><th width="60px;">是否必须</th><th>描述</th></tr>
	<tr><td>appId</td><td>String</td><td>是</td><td>给开发者颁发的appId</td></tr>
	<tr><td>token</td><td>String</td><td>是</td><td>token 用于调用接口前授权检查</td></tr>
	<tr><td>sign</td><td>String</td><td>是</td><td>请求签名，使用MD5，用于安全控制</td></tr>
	<tr><td>timestamp</td><td>String</td><td>是</td><td>调用时间戳，格式：yyyy-MM-ddTHH:mm:ss</td></tr>
	<tr><td>vendor</td><td>String</td><td>是</td><td>税总厂商，"BAIWANG"/"AISINO" , 默认设置为"BAIWANG"</td></tr>
	<tr><td>format</td><td>String</td><td>是</td><td>响应报文格式，目前仅支持"JSON"</td></tr>
	<tr><td>version</td><td>String</td><td>是</td><td>API协议版本，当前版本号"v1.0"</td></tr>
</table> 

##### 2.4.2 业务参数：  
<table width="100%">
	<tr><th width="150px;">名称</th><th width="60px;">类型</th><th width="60px;">是否必须</th><th>描述</th></tr>
	<tr><td>taxNo</td><td>String</td><td>否</td><td>税号，税总厂商为“AISINO”时，必填</td></tr>
	<tr><td>invoiceCode</td><td>String</td><td>是</td><td>发票代码</td></tr>
	<tr><td>invoiceNumber</td><td>String</td><td>是</td><td>发票号码</td></tr>
	<tr><td>billingDate</td><td>String</td><td>是</td><td>开票日期：YYYY-MM-DD</td></tr>
	<tr><td>checkCode</td><td>String</td><td>是</td><td>校验码后6位 </td></tr>
	<tr><td>totalPrice</td><td>String</td><td>否</td><td>价款合计金额（不含税），必须精确到两位小数。专票、货运专票、机动车专票必填</td></tr>
	<tr><td>totalTax</td><td>String</td><td>否</td><td>税款合计金额</td></tr>
	<tr><td>totalPriceTax</td><td>String</td><td>否</td><td>价税合计金额</td></tr>
	<tr><td>invoiceType</td><td>String</td><td>否</td><td>税总厂商为“AISINO”时，必填；参考附录3.1 发票类型中进项接口代码</td></tr>
</table> 

##### 2.4.3 响应参数：
<table width="100%">
	<tr><th width="150px;">名称</th><th width="60px;">类型</th><th>描述</th></tr>
	<tr><td>invoiceType</td><td>String</td><td>发票类型</tr>
	<tr><td>administrativeDivisionNo</td><td>String</td><td>所属行政区编码</tr>
	<tr><td>administrativeDivisionName</td><td>String</td><td>所属行政区名称</tr>
	<tr><td>invoiceCode</td><td>String</td><td>发票代码</tr>
	<tr><td>invoiceNumber</td><td>String</td><td>发票号码</tr>
	<tr><td>billingDate</td><td>String</td><td>开票日期：YYYY-MM-DD</tr>
	<tr><td>purchaserName</td><td>String</td><td>购方名称</tr>
	<tr><td>purchaserTaxNo</td><td>String</td><td>购方税号</tr>
	<tr><td>purchaserBank</td><td>String</td><td>购方开户行账户</tr>
	<tr><td>purchaserAddressPhone</td><td>String</td><td>购方地址电话</tr>
	<tr><td>salesName</td><td>String</td><td>销方名称</tr>
	<tr><td>salesTaxNo</td><td>String</td><td>销方税号</tr>
	<tr><td>salesAddressPhone</td><td>String</td><td>销方地址电话</tr>
	<tr><td>salesBank</td><td>String</td><td>销方开户行账户</tr>
	<tr><td>totalAmount</td><td>String</td><td>合计价款</tr>
	<tr><td>totalTax</td><td>String</td><td>合计税额</tr>
	<tr><td>amountTax</td><td>String</td><td>价税合计</tr>
	<tr><td>amountTaxCN</td><td>String</td><td>价税合计_中文</tr>
	<tr><td>checkCode</td><td>String</td><td>校验码</tr>
	<tr><td>state</td><td>String</td><td>发票状态（0-正常1-作废2-红冲3-失控4-异常）</tr>
	<tr><td>carrierName</td><td>String</td><td>承运人名称</tr>
	<tr><td>carrierTaxNo</td><td>String</td><td>承运人识别号</tr>
	<tr><td>draweeName</td><td>String</td><td>受票方名称</tr>
	<tr><td>draweeTaxNo</td><td>String</td><td>受票方识别号</tr>
	<tr><td>cargoInformation</td><td>String</td><td>运输货物信息</tr>
	<tr><td>transportRoute</td><td>String</td><td>起运地、经由、到达地</tr>
	<tr><td>machineCode</td><td>String</td><td>税控盘号</tr>
	<tr><td>tonnage</td><td>String</td><td>车船吨位</tr>
	<tr><td>taxAuthorityNo</td><td>String</td><td>主管税务机关</tr>
	<tr><td>taxAuthorityName</td><td>String</td><td>主管税务名称</tr>
	<tr><td>remarks</td><td>String</td><td>备注</tr>
	<tr><td>vehicleType</td><td>String</td><td>车辆类型</tr>
	<tr><td>brandModel</td><td>String</td><td>厂牌型号</tr>
	<tr><td>originPlace</td><td>String</td><td>产地</tr>
	<tr><td>certificateNo</td><td>String</td><td>合格证号</tr>
	<tr><td>inspectionListNo</td><td>String</td><td>商检单号</tr>
	<tr><td>engineNo</td><td>String</td><td>发动机号</tr>
	<tr><td>vehicleNo</td><td>String</td><td>车辆识别代号/车架号码 </tr>
	<tr><td>importCertificateNo</td><td>String</td><td>进口证明书号 </tr>
	<tr><td>paymentVoucherNo</td><td>String</td><td>完税凭证号码 </tr>
	<tr><td>passengersLimited</td><td>String</td><td>限乘人数 </tr>
	<tr><td>tollSign</td><td>String</td><td>通行费标志 06-可抵扣通行费，07-不可抵扣通 行费</tr>
	<tr><td>zeroTaxRateSign</td><td>String</td><td>零税率标志 1:税率栏位显示“免税”， 2: 税率栏位显示“不征收”， 3:零税率</tr>
	<tr><td>source</td><td>String</td><td>发票来源 </tr>
	<tr><td>idcardNo</td><td>String</td><td>身份证号码/组织机构代码</tr>
	<tr><td>invoiceLineList</td><td>array[object]</td><td>明细列表 </tr>
	<tr><td>└ rowNo</td><td>String</td><td>行号（从1开始） </tr>
	<tr><td>└ commodityCode</td><td>String</td><td>商品编码 </tr>
	<tr><td>└ commodityName</td><td>String</td><td>货物或应税劳务名称 </tr>
	<tr><td>└ specificationModel</td><td>String</td><td>规格型号 </tr>
	<tr><td>└ unit</td><td>String</td><td>单位 </tr>
	<tr><td>└ quantity</td><td>String</td><td>数量 </tr>
	<tr><td>└ unitPrice</td><td>String</td><td>单价 </tr>
	<tr><td>└ amount</td><td>String</td><td>金额 </tr>
	<tr><td>└ taxRate</td><td>String</td><td>税率</tr>
	<tr><td>└ tax</td><td>String</td><td>税额</tr>
	<tr><td>└ currentDateEnd</td><td>String</td><td>通行日起止</tr>
	<tr><td>└ currentDateStart</td><td>String</td><td>通行日期起</tr>
	<tr><td>└ licensePlateNum</td><td>String</td><td>车牌号</tr>
	<tr><td>└ type</td><td>String</td><td>类型</tr>
</table>   

##### 2.4.4 SDK示例:  
##### 2.4.5 报文示例：
请求报文：

	{
		"header":{
			"appId":"10000000",
			"token":"c8fe1407a8bc4d8ba2f407084bf64009",
			"sign":"bd6b11e662b342ffa9a4dc08ce1919a3",
			"timestamp":"2018-08-30T09:00:00",
			"vendor":"BAIWANG",
			"format":"JSON",
			"version":"v1.0"
		},
		"body":{
			"taxNo":"91110108786187005Y",
			"invoiceCode":"1100174320",
			"invoiceNumber":"96570491",
			"billingDate":"2018-06-09",
			"checkCode":"313486",
			"totalPrice":"326.21",
			"totalTax":"9.79",
			"totalPriceTax":"336.00"
		}
	}
响应报文：

	{
	    "code": 1000,
	    "message": "success",
	    "data": {
	        "invoiceType": "04",
	        "administrativeDivisionNo": "1100",
	        "administrativeDivisionName": "北京",
	        "invoiceCode": "1100174320",
	        "invoiceNumber": "96570491",
	        "billingDate": "2018-06-09",
	        "purchaserName": "北京元年诺亚舟咨询有限公司",
	        "purchaserTaxNo": "91110108786187005Y",
	        "purchaserBank": " ",
	        "purchaserAddressPhone": " ",
	        "salesName": "北京南疆北疆餐饮有限公司",
	        "salesTaxNo": "91110113MA002DPF5G",
	        "salesAddressPhone": "北京市顺义区空港街道安泰大街6号9号院106 01085160208",
	        "salesBank": "北京建设银行后沙峪支行11050110228400000019",
	        "totalAmount": "326.21",
	        "totalTax": "9.79",
	        "amountTax": "336.00",
	        "amountTaxCN": "叁佰叁拾陆圆整",
	        "checkCode": "78502703472589313486",
	        "state": null,
	        "carrierName": null,
	        "carrierTaxNo": null,
	        "draweeName": null,
	        "draweeTaxNo": null,
	        "cargoInformation": null,
	        "transportRoute": null,
	        "machineCode": "661604060416",
	        "tonnage": null,
	        "taxAuthorityNo": null,
	        "taxAuthorityName": null,
	        "remarks": " ",
	        "vehicleType": null,
	        "brandModel": null,
	        "originPlace": null,
	        "certificateNo": null,
	        "inspectionListNo": null,
	        "engineNo": null,
	        "vehicleNo": null,
	        "importCertificateNo": null,
	        "paymentVoucherNo": null,
	        "passengersLimited": null,
	        "tollSign": null,
	        "zeroTaxRateSign": null,
	        "source": "BAIWANG",
	        "invoiceLineList": [
	            {
	                "rowNo": "1",
	                "commodityCode": null,
	                "commodityName": "*餐饮服务*餐费",
	                "specificationModel": " ",
	                "unit": " ",
	                "quantity": null,
	                "unitPrice": null,
	                "amount": "326.21",
	                "taxRate": "0.03",
	                "tax": "9.79",
	                "currentDateEnd": null,
	                "currentDateStart": null,
	                "licensePlateNum": null,
	                "type": null
	            }
	        ],
	        "idcardNo": null
	    }
	}
### <span id="section25">2.5 认证抵扣申请</span>
批量将所属期的发票进行认证，返回发票的认证结果  
  
> 请求URL: https://host:port/openapi/invoice/input/deduct  
> 请求类型: POST 

##### 2.5.1 公共参数：  
<table width="100%">
	<tr><th width="150px;">名称</th><th width="60px;">类型</th><th width="60px;">是否必须</th><th>描述</th></tr>
	<tr><td>appId</td><td>String</td><td>是</td><td>给开发者颁发的appId</td></tr>
	<tr><td>token</td><td>String</td><td>是</td><td>token 用于调用接口前授权检查</td></tr>
	<tr><td>sign</td><td>String</td><td>是</td><td>请求签名，使用MD5，用于安全控制</td></tr>
	<tr><td>timestamp</td><td>String</td><td>是</td><td>调用时间戳，格式：yyyy-MM-ddTHH:mm:ss</td></tr>
	<tr><td>vendor</td><td>String</td><td>是</td><td>税总厂商，"BAIWANG"/"AISINO" , 默认设置为"BAIWANG"</td></tr>
	<tr><td>format</td><td>String</td><td>是</td><td>响应报文格式，目前仅支持"JSON"</td></tr>
	<tr><td>version</td><td>String</td><td>是</td><td>API协议版本，当前版本号"v1.0"</td></tr>
</table> 

##### 2.5.2 业务参数：  
<table width="100%">
<tr><th width="150px;">名称</th><th width="60px;">类型</th><th width="60px;">是否必须</th><th>描述</th></tr>
<tr><td>taxNo</td><td>String</td><td>是</td><td>税号</tr>
<tr><td>period</td><td>String</td><td>是</td><td>所属期，yyyyMM</tr>
<tr><td>invoiceList<td>array[object]</td><td>是</td><td>认证发票集合</td></tr>
<tr><td>└ invoiceCode</td><td>String</td><td>是</td><td>发票代码</tr>
<tr><td>└ invoiceNumber</td><td>String</td><td>是</td><td>发票号码</tr>
<tr><td>└ purchaserTaxNo</td><td>String</td><td>是</td><td>购方税号</tr>
<tr><td>└ totalTax</td><td>String</td><td>否</td><td>税款合计金额，税总厂商为“AISINO”时，必填；</td></tr>
<tr><td>└ invoiceType</td><td>String</td><td>否</td><td>税总厂商为“AISINO”时，必填；参考附录3.1 发票类型中进项接口代码</td></tr>
</table>  

##### 2.5.3 响应参数：  
<table width="100%">
	<tr><th width="150px;">名称</th><th width="60px;">类型</th><th>描述</th></tr>
	<tr><td>taxNo</td><td>String</td><td>税号</td></tr>
	<tr><td>invoiceCode</td><td>String</td><td>发票代码</td></tr>
	<tr><td>invoiceNumber</td><td>String</td><td>发票号码</td></tr>
	<tr><td>taskNo</td><td>String</td><td> 认证申请任务编号，根据此编号查询认证结果</td></tr>
</table> 

##### 2.5.4 SDK示例:  
##### 2.5.5 报文示例：
请求报文：

	{
		"header":{
			"appId":"10000000",
			"token":"c8fe1407a8bc4d8ba2f407084bf64009",
			"sign":"bd6b11e662b342ffa9a4dc08ce1919a3",
			"timestamp":"2018-08-30T09:00:00",
			"vendor":"BAIWANG",
			"format":"JSON",
			"version":"v1.0"
		},
		"body":{
			"taxNo":"91110108MA00FMPWXE",
			"period":"201808",
			"invoiceList":[
					{
						"invoiceCode":"4403172130",
						"invoiceNumber":"04914875",
						"purchaserTaxNo":"91110108MA00FMPWXE"
					}
			]
		}
	}

响应报文：

	{
	    "code": 1000,
	    "message": "success",
	    "data": [
	        {
	            "taxNo": "91110108MA00FMPWXE",
	            "invoiceCode": "4403172130",
	            "invoiceNumber": "04914875",
	            "taskNo": "c118f5b2839c45f1b73fce0a07701558"
	        }
	    ]
	}

### <span id="section26">2.6 查询认证抵扣结果</span>
对于认证过的发票会返回一个任务号，通过任务号和发票号码，代码将认证抵扣的结果进行同步。  
  
> 请求URL: https://host:port/openapi/invoice/input/deduct/result  
> 请求类型: POST 

##### 2.6.1 公共参数： 
<table width="100%">
	<tr><th width="150px;">名称</th><th width="60px;">类型</th><th width="60px;">是否必须</th><th>描述</th></tr>
	<tr><td>appId</td><td>String</td><td>是</td><td>给开发者颁发的appId</td></tr>
	<tr><td>token</td><td>String</td><td>是</td><td>token 用于调用接口前授权检查</td></tr>
	<tr><td>sign</td><td>String</td><td>是</td><td>请求签名，使用MD5，用于安全控制</td></tr>
	<tr><td>timestamp</td><td>String</td><td>是</td><td>调用时间戳，格式：yyyy-MM-ddTHH:mm:ss</td></tr>
	<tr><td>vendor</td><td>String</td><td>是</td><td>税总厂商，"BAIWANG"/"AISINO" , 默认设置为"BAIWANG"</td></tr>
	<tr><td>format</td><td>String</td><td>是</td><td>响应报文格式，目前仅支持"JSON"</td></tr>
	<tr><td>version</td><td>String</td><td>是</td><td>API协议版本，当前版本号"v1.0"</td></tr>
</table>  

##### 2.6.2 业务参数：  
<table width="100%">
<tr><th width="150px;">名称</th><th width="60px;">类型</th><th width="60px;">是否必须</th><th>描述</th></tr>
	<tr><td>taxNo</td><td>String</td><td>是</td><td></td></tr>
	<tr><td>invoiceList</td><td>array[object]</td><td>是</td><td></td></tr>
	<tr><td>└ invoiceCode</td><td> String </td><td>是</td><td></td></tr>
	<tr><td>└ invoiceNumber</td><td> String </td><td>是</td><td></td></tr>
	<tr><td>└ taskNo</td><td> String </td><td>是</td><td>认证申请任务编号</td></tr>
</table>  

##### 2.6.3 响应参数：  
<table width="100%">
	<tr><th width="150px;">名称</th><th width="60px;">类型</th><th>描述</th></tr>
	<tr><td>taxNo</td><td>String</td><td></td></tr>
	<tr><td>invoiceCode</td><td>String</td><td></td></tr>
	<tr><td>invoiceNumber</td><td>String</td><td></td></tr>
	<tr><td>taskNo</td><td>String</td><td></td></tr>
	<tr><td>resultCode</td><td>String</td><td>认证结果，1：成功，2失败，9：认证中</td></tr>
	<tr><td>resultMessage</td><td>String</td><td>结果描述</td></tr>
	<tr><td>deductibleDate</td><td>String</td><td>认证日期</td></tr>
	<tr><td>deductiblePeriod</td><td>String</td><td>认证所属期</td></tr>
</table> 

##### 2.6.4 SDK示例:  
##### 2.6.5 报文示例：
请求报文：

	{
		"header":{
			"appId":"10000000",
			"token":"c8fe1407a8bc4d8ba2f407084bf64009",
			"sign":"bd6b11e662b342ffa9a4dc08ce1919a3",
			"timestamp":"2018-08-30T09:00:00",
			"vendor":"BAIWANG",
			"format":"JSON",
			"version":"v1.0"
		},
		"body":{
			"taxNo":"91310110MA1G87YU8J",
			"invoiceList":[
				{
					"invoiceCode":"3100173130",
					"invoiceNumber":"25697838",
					"taskNo":"3beaf293d5aa47bc9d4554835fd4de3e"
				}
			]
		}
	}

响应报文：

	{
	    "code": 1000,
	    "message": "success",
	    "data": [
	        {
	            "taxNo": "91310110MA1G87YU8J",
	            "invoiceCode": "3100152160",
	            "invoiceNumber": "02800881",
	            "taskNo": "3beaf293d5aa47bc9d4554835fd4de3e",
	            "resultCode": "1",
	            "resultMessage": "认证成功",
	            "deductibleDate": "2018-08-09",
	            "deductiblePeriod": "201808"
	        }
	    ]
	}

### <span id="section27">2.7 切换税款所属期</span>
切换税款所属期
  
> 请求URL: https://host:port/openapi/invoice/input/period/switch  
> 请求类型: POST 

##### 2.7.1 公共参数：  
<table width="100%">
	<tr><th width="150px;">名称</th><th width="60px;">类型</th><th width="60px;">是否必须</th><th>描述</th></tr>
	<tr><td>appId</td><td>String</td><td>是</td><td>给开发者颁发的appId</td></tr>
	<tr><td>token</td><td>String</td><td>是</td><td>token 用于调用接口前授权检查</td></tr>
	<tr><td>sign</td><td>String</td><td>是</td><td>请求签名，使用MD5，用于安全控制</td></tr>
	<tr><td>timestamp</td><td>String</td><td>是</td><td>调用时间戳，格式：yyyy-MM-ddTHH:mm:ss</td></tr>
	<tr><td>vendor</td><td>String</td><td>是</td><td>税总厂商，暂时固定为"BAIWANG"</td></tr>
	<tr><td>format</td><td>String</td><td>是</td><td>响应报文格式，目前仅支持"JSON"</td></tr>
	<tr><td>version</td><td>String</td><td>是</td><td>API协议版本，当前版本号"v1.0"</td></tr>
</table> 

##### 2.7.2 业务参数： 
<table width="100%">
	<tr><th width="150px;">名称</th><th width="60px;">类型</th><th width="60px;">是否必须</th><th>描述</th></tr>
	<tr><td>taxNo</td><td>String</td><td>是</td><td></td></tr>
	<tr><td>opType</td><td>String</td><td>是</td><td>操作类型（0-切换1-回退）</td></tr>
</table>  
 
##### 2.7.3 响应参数： 
<table width="100%">
	<tr><th width="150px;">名称</th><th width="60px;">类型</th><th>描述</th></tr>
	<tr><td>taxNo</td><td>String</td><td></td></tr>
	<tr><td>period</td><td>String</td><td>切换后所属期</td></tr>
</table>  

##### 2.7.4 SDK示例:  
##### 2.7.5 报文示例：
请求报文：

	{
		"header":{
			"appId":"10000000",
			"token":"c8fe1407a8bc4d8ba2f407084bf64009",
			"sign":"bd6b11e662b342ffa9a4dc08ce1919a3",
			"timestamp":"2018-08-30T09:00:00",
			"vendor":"BAIWANG",
			"format":"JSON",
			"version":"v1.0"
		},
		"body":{
			"taxNo":"91310110MA1G87YU8J",
			"opType":"0"
		}
	}

响应报文：

	{
		"header":{
			"appId":"10000000",
			"token":"c8fe1407a8bc4d8ba2f407084bf64009",
			"sign":"bd6b11e662b342ffa9a4dc08ce1919a3",
			"timestamp":"2018-08-30T09:00:00",
			"vendor":"BAIWANG",
			"format":"JSON",
			"version":"v1.0"
		},
		"body":{
			"taxNo":"91310110MA1G87YU8J",
			"opType":"0"
		}
	}

### <span id="section28">2.8 OCR识别五要素</span>
将增值税发票的 JPEG 图像二进制数据上传到服务器识别并返回发票五要素。  
图像识别接口对图片要求质量较高,请上传符合要求的图片:
  
* 光线充足均衡的环境；
* 发票需要平展放置，不要蜷曲折叠；
* 拍照时，相框内只有发票和背景，无其他干扰物.
* 拍照时，不要有抖动，相片字体清晰可见
  
> 请求URL: https://host:port/  
> 请求类型: POST 

##### 2.8.1 公共参数：  
<table width="100%">
	<tr><th width="150px;">名称</th><th width="60px;">类型</th><th width="60px;">是否必须</th><th>描述</th></tr>
	<tr><td>appId</td><td>String</td><td>是</td><td>给开发者颁发的appId</td></tr>
	<tr><td>token</td><td>String</td><td>是</td><td>token 用于调用接口前授权检查</td></tr>
	<tr><td>sign</td><td>String</td><td>是</td><td>请求签名，使用MD5，用于安全控制</td></tr>
	<tr><td>timestamp</td><td>String</td><td>是</td><td>调用时间戳，格式：yyyy-MM-ddTHH:mm:ss</td></tr>
	<tr><td>vendor</td><td>String</td><td>是</td><td>税总厂商，暂时固定为"BAIWANG"</td></tr>
	<tr><td>format</td><td>String</td><td>是</td><td>响应报文格式，目前仅支持"JSON"</td></tr>
	<tr><td>version</td><td>String</td><td>是</td><td>API协议版本，当前版本号"v1.0"</td></tr>
</table> 

##### 2.8.2 业务参数：  
<table width="100%">
<tr><th width="150px;">名称</th><th width="60px;">类型</th><th width="60px;">是否必须</th><th>描述</th></tr>
	<tr><td>imageData</td><td>String</td><td>是</td><td>增值税发票的 JPEG 图像二进制BASE64数据</td></tr>
</table>  

##### 2.8.3 响应参数：  
<table width="100%">
	<tr><th width="150px;">名称</th><th width="60px;">类型</th><th>描述</th></tr>
	<tr><td>invoiceCode</td><td>String</td><td>发票代码</td></tr>
	<tr><td>invoiceNumber</td><td>String</td><td>发票号码</td></tr>
	<tr><td>billingDate</td><td>String</td><td>开票日期，格式：yyyy-MM-dd</td></tr>
	<tr><td>totalAmount</td><td>String</td><td>合计金额</tr>
	<tr><td>checkCode</td><td>String</td><td>校验码后六位</tr>
</table> 

##### 2.8.4 SDK示例:  
##### 2.8.5 报文示例：
请求报文：

	{
		"header":{
			"appId":"10000000",
			"token":"c8fe1407a8bc4d8ba2f407084bf64009",
			"sign":"bd6b11e662b342ffa9a4dc08ce1919a3",
			"timestamp":"2018-08-30T09:00:00",
			"vendor":"BAIWANG",
			"format":"JSON",
			"version":"v1.0",
			"size":"5",
			"page":"1"
		},
		"body":{
			"imageData":""
		}
	}

响应报文：

### <span id="section29">2.9 OCR识别全票面信息(自动查验)</span>
将增值税发票的 JPEG 图像二进制数据上传到服务器识别并进行发票查验，返回发票全票面信息。
图像识别接口对图片要求质量较高,请上传符合要求的图片:
  
* 光线充足均衡的环境；
* 发票需要平展放置，不要蜷曲折叠；
* 拍照时，相框内只有发票和背景，无其他干扰物.
* 拍照时，不要有抖动，相片字体清晰可见
  
> 请求URL: https://host:port/  
> 请求类型: POST 

##### 2.9.1 公共参数： 
<table width="100%">
	<tr><th width="150px;">名称</th><th width="60px;">类型</th><th width="60px;">是否必须</th><th>描述</th></tr>
	<tr><td>appId</td><td>String</td><td>是</td><td>给开发者颁发的appId</td></tr>
	<tr><td>token</td><td>String</td><td>是</td><td>token 用于调用接口前授权检查</td></tr>
	<tr><td>sign</td><td>String</td><td>是</td><td>请求签名，使用MD5，用于安全控制</td></tr>
	<tr><td>timestamp</td><td>String</td><td>是</td><td>调用时间戳，格式：yyyy-MM-ddTHH:mm:ss</td></tr>
	<tr><td>vendor</td><td>String</td><td>是</td><td>税总厂商，暂时固定为"BAIWANG"</td></tr>
	<tr><td>format</td><td>String</td><td>是</td><td>响应报文格式，目前仅支持"JSON"</td></tr>
	<tr><td>version</td><td>String</td><td>是</td><td>API协议版本，当前版本号"v1.0"</td></tr>
</table>  

##### 2.9.2 业务参数：  
<table width="100%">
<tr><th width="150px;">名称</th><th width="60px;">类型</th><th width="60px;">是否必须</th><th>描述</th></tr>
	<tr><td>taxNo</td><td>String</td><td>否</td><td>税号</td></tr>
	<tr><td>imageData</td><td>String</td><td>是</td><td>增值税发票的 JPEG 图像二进制BASE64数据</td></tr>
</table>  

##### 2.9.3 响应参数： 

OCR五要素符合要求，响应参数：

<table width="100%">
	<tr><th width="150px;">名称</th><th width="60px;">类型</th><th>描述</th></tr>
	<tr><td>invoiceType</td><td>String</td><td>发票类型</tr>
	<tr><td>administrativeDivisionNo</td><td>String</td><td>所属行政区编码</tr>
	<tr><td>administrativeDivisionName</td><td>String</td><td>所属行政区名称</tr>
	<tr><td>invoiceCode</td><td>String</td><td>发票代码</tr>
	<tr><td>invoiceNumber</td><td>String</td><td>发票号码</tr>
	<tr><td>billingDate</td><td>String</td><td>开票日期：YYYY-MM-DD</tr>
	<tr><td>purchaserName</td><td>String</td><td>购方名称</tr>
	<tr><td>purchaserTaxNo</td><td>String</td><td>购方税号</tr>
	<tr><td>purchaserBank</td><td>String</td><td>购方开户行账户</tr>
	<tr><td>purchaserAddressPhone</td><td>String</td><td>购方地址电话</tr>
	<tr><td>salesName</td><td>String</td><td>销方名称</tr>
	<tr><td>salesTaxNo</td><td>String</td><td>销方税号</tr>
	<tr><td>salesAddressPhone</td><td>String</td><td>销方地址电话</tr>
	<tr><td>salesBank</td><td>String</td><td>销方开户行账户</tr>
	<tr><td>totalAmount</td><td>String</td><td>合计价款</tr>
	<tr><td>totalTax</td><td>String</td><td>合计税额</tr>
	<tr><td>amountTax</td><td>String</td><td>价税合计</tr>
	<tr><td>amountTaxCN</td><td>String</td><td>价税合计_中文</tr>
	<tr><td>checkCode</td><td>String</td><td>校验码</tr>
	<tr><td>state</td><td>String</td><td>发票状态 是否作废（1：正常；2：作废；)</tr>
	<tr><td>carrierName</td><td>String</td><td>承运人名称</tr>
	<tr><td>carrierTaxNo</td><td>String</td><td>承运人识别号</tr>
	<tr><td>draweeName</td><td>String</td><td>受票方名称</tr>
	<tr><td>draweeTaxNo</td><td>String</td><td>受票方识别号</tr>
	<tr><td>cargoInformation</td><td>String</td><td>运输货物信息</tr>
	<tr><td>transportRoute</td><td>String</td><td>起运地、经由、到达地</tr>
	<tr><td>machineCode</td><td>String</td><td>税控盘号</tr>
	<tr><td>tonnage</td><td>String</td><td>车船吨位</tr>
	<tr><td>taxAuthorityNo</td><td>String</td><td>主管税务机关</tr>
	<tr><td>taxAuthorityName</td><td>String</td><td>主管税务名称</tr>
	<tr><td>remarks</td><td>String</td><td>备注</tr>
	<tr><td>vehicleType</td><td>String</td><td>车辆类型</tr>
	<tr><td>brandModel</td><td>String</td><td>厂牌型号</tr>
	<tr><td>originPlace</td><td>String</td><td>产地</tr>
	<tr><td>certificateNo</td><td>String</td><td>合格证号</tr>
	<tr><td>inspectionListNo</td><td>String</td><td>商检单号</tr>
	<tr><td>engineNo</td><td>String</td><td>发动机号</tr>
	<tr><td>vehicleNo</td><td>String</td><td>车辆识别代号/车架号码 </tr>
	<tr><td>importCertificateNo</td><td>String</td><td>进口证明书号 </tr>
	<tr><td>paymentVoucherNo</td><td>String</td><td>完税凭证号码 </tr>
	<tr><td>passengersLimited</td><td>String</td><td>限乘人数 </tr>
	<tr><td>tollSign</td><td>String</td><td>通行费标志 06-可抵扣通行费，07-不可抵扣通 行费</tr>
	<tr><td>zeroTaxRateSign</td><td>String</td><td>零税率标志 1:税率栏位显示“免税”， 2: 税率栏位显示“不征收”， 3:零税率</tr>
	<tr><td>source</td><td>String</td><td>发票来源 </tr>
	<tr><td>idcardNo</td><td>String</td><td>身份证号码/组织机构代码</tr>
	<tr><td>invoiceLineList</td><td>array[object]</td><td>明细列表 </tr>
	<tr><td>└ rowNo</td><td>String</td><td>行号（从1开始） </tr>
	<tr><td>└ commodityCode</td><td>String</td><td>商品编码 </tr>
	<tr><td>└ commodityName</td><td>String</td><td>货物或应税劳务名称 </tr>
	<tr><td>└ specificationModel</td><td>String</td><td>规格型号 </tr>
	<tr><td>└ unit</td><td>String</td><td>单位 </tr>
	<tr><td>└ quantity</td><td>String</td><td>数量 </tr>
	<tr><td>└ unitPrice</td><td>String</td><td>单价 </tr>
	<tr><td>└ amount</td><td>String</td><td>金额 </tr>
	<tr><td>└ taxRate</td><td>String</td><td>税率</tr>
	<tr><td>└ tax</td><td>String</td><td>税额</tr>
	<tr><td>└ currentDateEnd</td><td>String</td><td>通行日起止</tr>
	<tr><td>└ currentDateStart</td><td>String</td><td>通行日期起</tr>
	<tr><td>└ licensePlateNum</td><td>String</td><td>车牌号</tr>
	<tr><td>└ type</td><td>String</td><td>类型</tr>
</table>  

OCR五要素不符合要求，响应参数：

<table width="100%">
	<tr><th width="150px;">名称</th><th width="60px;">类型</th><th>描述</th></tr>
	<tr><td>invoiceCode</td><td>String</td><td>发票代码</td></tr>
	<tr><td>invoiceNumber</td><td>String</td><td>发票号码</td></tr>
	<tr><td>billingDate</td><td>String</td><td>开票日期，格式：yyyy-MM-dd</td></tr>
	<tr><td>totalAmount</td><td>String</td><td>合计金额</tr>
	<tr><td>checkCode</td><td>String</td><td>校验码后六位</tr>
</table> 

##### 2.9.4 SDK示例:  
##### 2.9.5 报文示例：
请求报文：

	{
		"header":{
			"appId":"10000000",
			"token":"c8fe1407a8bc4d8ba2f407084bf64009",
			"sign":"bd6b11e662b342ffa9a4dc08ce1919a3",
			"timestamp":"2018-08-30T09:00:00",
			"vendor":"BAIWANG",
			"format":"JSON",
			"version":"v1.0",
			"size":"5",
			"page":"1"
		},
		"body":{
			"imageData":""
		}
	}

响应报文：


### <span id="section30">2.10 查询认证抵扣记录</span>

分页增量查询已专票认证记录，增量时间差不超过60天。
  
> 请求URL: https://host:port/openapi/invoice/input/deduct/record  
> 请求类型: POST 

##### 2.10.1 公共参数： 
<table width="100%">
	<tr><th width="150px;">名称</th><th width="60px;">类型</th><th width="60px;">是否必须</th><th>描述</th></tr>
	<tr><td>appId</td><td>String</td><td>是</td><td>给开发者颁发的appId</td></tr>
	<tr><td>token</td><td>String</td><td>是</td><td>token 用于调用接口前授权检查</td></tr>
	<tr><td>sign</td><td>String</td><td>是</td><td>请求签名，使用MD5，用于安全控制</td></tr>
	<tr><td>timestamp</td><td>String</td><td>是</td><td>调用时间戳，格式：yyyy-MM-ddTHH:mm:ss</td></tr>
	<tr><td>vendor</td><td>String</td><td>是</td><td>税总厂商，暂时固定为"BAIWANG"</td></tr>
	<tr><td>format</td><td>String</td><td>是</td><td>响应报文格式，目前仅支持"JSON"</td></tr>
	<tr><td>version</td><td>String</td><td>是</td><td>API协议版本，当前版本号"v1.0"</td></tr>
	<tr><td>page</td><td>String</td><td>是</td><td>当前页码</td></tr>
	<tr><td>size</td><td>String</td><td>是</td><td>每页数据量</td></tr>
</table>  

##### 2.10.2 业务参数：  
<table width="100%">
<tr><th width="150px;">名称</th><th width="60px;">类型</th><th width="60px;">是否必须</th><th>描述</th></tr>
	<tr><td>taxNo</td><td>String</td><td>是</td><td>税号</td></tr>
	<tr><td>startDate</td><td>String</td><td>是</td><td>开始同步时间</td></tr>
	<tr><td>endDate</td><td>String</td><td>是</td><td>结束同步时间</td></tr>
</table>  

##### 2.10.3 响应参数： 


<table width="100%">
	<tr><th width="150px;">名称</th><th width="60px;">类型</th><th>描述</th></tr>
	<tr><td>page</td><td>String</td><td>页码</td></tr>
	<tr><td>size</td><td>String</td><td>页尺寸</td></tr>
	<tr><td>totalPage</td><td>String</td><td>总页数</td></tr>
	<tr><td>invoiceCount</td><td>String</td><td>总记录数</tr>
	<tr><td>records</td><td>String</td><td>记录集合</tr>
	<tr><td>└ applyDate</td><td>String</td><td>抵扣申请日期 YYYY-MM-DD</tr>
	<tr><td>└ taxNo</td><td>String</td><td>税号</tr>
	<tr><td>└ period</td><td>String</td><td>认证归属期，YYYYMM</tr>
	<tr><td>└ invoiceCode</td><td>String</td><td>发票代码</tr>
	<tr><td>└ invoiceNumber</td><td>String</td><td>发票号码</tr>
	<tr><td>└ purchaserTaxNo</td><td>String</td><td>购方税号</tr>
	<tr><td>└ certificationType</td><td>String</td><td>认证类型：1为抵扣，2为出口退税，3为代理出口退税；不传该字段，则默认为1。认证类型为2或3时，税款所属期必须为自然月</tr>
	<tr><td>└ applyCode</td><td>String</td><td>申请结果编码</tr>
	<tr><td>└ applyMessage</td><td>String</td><td>申请结果信息</tr>
	<tr><td>└ resultStatus</td><td>String</td><td>认证结果状态，认证中、认证结束、认证失败</tr>
	<tr><td>└ resultCode</td><td>String</td><td>认证结果编码</tr>
	<tr><td>└ resultMessage</td><td>String</td><td>认证结果消息</tr>
	<tr><td>└ deductibleDate</td><td>String</td><td>认证日期：YYYY-MM-DD</tr>
	<tr><td>└ deductiblePeriod</td><td>String</td><td>认证所属期</tr>
	<tr><td>└ createTime</td><td>String</td><td>创建时间</td></tr>
	<tr><td>└ updateTime</td><td>String</td><td>修改时间</td></tr>


</table> 

##### 2.10.4 SDK示例:  
##### 2.10.5 报文示例：
请求报文：

	{
	"header":{
		"appId":"100003",
		"token":"eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxMDAwMDkiLCJzYWx0IjoiMDQ5ODA3NDM3ZmE1ZjliMmQwMzY3YjlhYmU3YjAwOWI0NDVkNTIwYmIyODZhYTE1IiwiaWQiOiJmOGFjYjcwMDRlZmRlYWNjIiwiZXhwIjoxNTYxNTQyOTEyLCJpYXQiOjE1NjE1MzU3MTJ9.UROhT0oCEenACDnhnNLfDhsD4SRxI56OEcuXnHlSKZeAvpV1Mvrr9O6V47eO5lz_PiiDEWNIasDCgpJ5XllPJA",
		"sign":"2D231A0A950E6688DF6F4D8896B71692",
		"timestamp":"2018-08-30T09:00:00",
		"vendor":"BAIWANG",
		"format":"JSON",
		"version":"v1.0",
		"page":"1",
		"size":"100"
	},
	"body":{
		"taxNo":"9111010875872474XN",
		"startDate":"2019-11-01 00:00:00",
		"endDate":"2019-11-12 00:00:00"
	}
}

响应报文：

	{
	    "code": 1000,
	    "message": "success",
	    "data": {
	        "page": "1",
	        "size": "100",
	        "totalPage": "1",
	        "invoiceCount": "1",
	        "records": [
	            {
	                "applyDate": "2019-11-07",
	                "taxNo": "9111010875872474XN",
	                "period": "201911",
	                "invoiceCode": "044001700211",
	                "invoiceNumber": "89249713",
	                "purchaserTaxNo": "9111010875872474XN",
	                "certificationType": null,
	                "applyCode": "1000",
	                "applyMessage": "success",
	                "resultStatus": "1",
	                "resultCode": "1",
	                "resultMessage": "认证成功",
	                "deductibleDate": "2019-11-07",
	                "deductiblePeriod": "201911",
	                "createTime": "2019-11-07 06:20:55",
	                "updateTime": "2019-11-07 06:21:16"
	            }
	        ]
	    }
	}

## 三、附录
### 3.1 发票类型
名称|全称|进项接口代码|发票池发票类型代码
---|---|---|---|
专票|增值税专用发票|01|004
货运专票|增值税货运专用发票|02|
机动车|机动车销售统一发票|03|005
普票|增值税普通发票|04|007
电票|增值税电子普通发票|10|026
卷票|增值税普通发票（卷式）|11|025
通行费（可抵扣）|增值税电子普通发票（通行费）|14|026
通行费（不可抵扣）|增值税电子普通发票（通行费）|14|026
二手车|二手车销售统一发票|15|006